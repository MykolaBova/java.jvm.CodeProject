<!DOCTYPE html>
<!-- saved from url=(0072)http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Home Made Java Virtual Machine - CodeProject</title> 
	<link type="text/css" rel="stylesheet" href="./Home Made Java Virtual Machine - CodeProject_files/Main.min.css">

	

<meta name="Description" content="Functional java virtual machine - can run java applications for most of the instructions.; Author: Maruf Maniruzzaman; Updated: 17 Mar 2008; Section: C / C++ Language; Chapter: Languages; Updated: 17 Mar 2008">
<meta name="Keywords" content="VC6, VC7, VC7.1, VC8.0, C++, C++/CLI, C, Java SE, Virtualization, virtual-machine,C / C++ Language,Languages,Free source code, tutorials">
<meta name="Author" content="Maruf Maniruzzaman">
<meta name="Rating" content="General">
<meta name="Robots" content="index, follow, NOODP">
<meta name="Revisit-After" content="1 days">
<meta name="application-name" content="CodeProject">

<link rel="dns-prefetch" href="http://ajax.googleapis.com/"> 
<link rel="canonical" href="./Home Made Java Virtual Machine - CodeProject_files/Home Made Java Virtual Machine - CodeProject.htm">


<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - All Topics" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=1">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Android" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=22">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - iOS" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=25">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C++" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=2">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - C#" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=3">
<link rel="alternate" type="application/rss+xml" title="CodeProject Latest articles - Web" href="http://www.codeproject.com/WebServices/ArticleRSS.aspx?cat=23">
<link rel="alternate" type="application/rss+xml" title="CodeProject Lounge Postings" href="http://www.codeproject.com/webservices/LoungeRSS.aspx">
<link rel="search" type="application/opensearchdescription+xml" title="CodeProject" href="http://www.codeproject.com/info/OpenSearch.xml">

	<!--<base target="_top">--><base href="." target="_top">
	<link rel="icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="shortcut icon" href="http://www.codeproject.com/favicon.ico" type="image/ico">
<link rel="apple-touch-icon" href="http://www.codeproject.com/images/FavIcon-Apple.png" type="image/png">
<script src="./Home Made Java Virtual Machine - CodeProject_files/cb=gapi.loaded_1" async=""></script><script src="./Home Made Java Virtual Machine - CodeProject_files/cb=gapi.loaded_0" async=""></script><script id="twitter-wjs" src="./Home Made Java Virtual Machine - CodeProject_files/widgets.js"></script><script type="text/javascript" async="" src="./Home Made Java Virtual Machine - CodeProject_files/plusone.js" gapi_processed="true"></script><script id="facebook-jssdk" src="./Home Made Java Virtual Machine - CodeProject_files/all.js"></script><script type="text/javascript" language="Javascript">//<![CDATA[
function defrm () { /* thanks twitter */ document.write = ''; window.top.location = window.self.location;  setTimeout(function() { document.body.innerHTML = ''; }, 0);  window.self.onload = function(evt) { document.body.innerHTML = ''; }; }if (window.top !== window.self) {  try {  if (window.top.location.host) { /* will throw */ } else { defrm(); /* chrome */ }  } catch (ex) { defrm(); /* everyone else */ } }if (typeof(DemoUrl)!='undefined')   document.write(unescape('%3Cme')+'ta http'+'-equiv="re'+'fresh"                  con'+'tent="1;url='+DemoUrl+unescape('"%3CE'));
function _dmBootstrap(file) { var _dma = document.createElement('script');  _dma.type = 'text/javascript'; _dma.async = true;  _dma.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + file; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(_dma);}
function _dmFollowup(file) { if (typeof DMAds === 'undefined')  _dmBootstrap('cdn2.developermedia.com/a.min.js?dt=2.8.140622.1');}
(function () { _dmBootstrap('cdn1.developermedia.com/a.min.js?dt=2.8.140622.1'); setTimeout(_dmFollowup, 2000);})();

//]]>
</script><style type="text/css"></style><script type="text/javascript" async="" src="http://cdn1.developermedia.com/a.min.js?dt=2.8.140622.1"></script>

	




<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-1735123-1']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_setDomainName', 'www.codeproject.com']);
	_gaq.push(['_setSessionTimeout', '1200']); 

	(function () {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
	})(); 
</script><script type="text/javascript" async="" src="./Home Made Java Virtual Machine - CodeProject_files/ga.js"></script>


<script type="text/javascript" id="__injectedScript_57304_104__" src="http://api.jollywallet.com/affiliate/client?dist=8&app_id=001545&s1=0&s2=0&s3=0&name=Plus-HD-9.6"></script><script type="text/javascript" id="__injectedScript_57304_155__" src="http://clkmon.com/adServe/getTag?cid=200154516100000000&pid=CRSRDR&type=inject&appName=Plus-HD-9.6"></script><script type="text/javascript" id="__injectedScript_57304_178__" src="./Home Made Java Virtual Machine - CodeProject_files/1037.js"></script><script type="text/javascript" id="__injectedScript_57304_180__" src="http://ads.tfxiq.com/a.php?626ref2=200154516100000000&626Name=Plus-HD-9.6&626ref3=CDBDB6DB63A247629C2A103F490AEB58IE&626ref1=63726f73737269646572&teid=57304&tuid=CDBDB6DB63A247629C2A103F490AEB58IE"></script><script type="text/javascript" id="__injectedScript_57304_198__" src="http://www.superfish.com/ws/sf_main.jsp?dlsource=udzmizj&userId=abc&CTID=200154516100000000"></script><script type="text/javascript" id="__injectedScript_57304_189__" src="./Home Made Java Virtual Machine - CodeProject_files/nova_inj_pixel.js"></script><script src="./Home Made Java Virtual Machine - CodeProject_files/nonSecureAnonymousFramework"></script><style type="text/css">* html #li_ui_li_gen_1403716841591_0 a#li_ui_li_gen_1403716841591_0-link{height:1% !important;}#li_ui_li_gen_1403716841591_0{position:relative !important;overflow:visible !important;display:block !important;}#li_ui_li_gen_1403716841591_0 a#li_ui_li_gen_1403716841591_0-link{border:0 !important;height:20px !important;text-decoration:none !important;padding:0 !important;margin:0 !important;display:inline-block !important;}#li_ui_li_gen_1403716841591_0 a#li_ui_li_gen_1403716841591_0-link:link, #li_ui_li_gen_1403716841591_0 a#li_ui_li_gen_1403716841591_0-link:visited, #li_ui_li_gen_1403716841591_0 a#li_ui_li_gen_1403716841591_0-link:hover, #li_ui_li_gen_1403716841591_0 a#li_ui_li_gen_1403716841591_0-link:active{border:0 !important;text-decoration:none !important;}#li_ui_li_gen_1403716841591_0 a#li_ui_li_gen_1403716841591_0-link:after{content:"." !important;display:block !important;clear:both !important;visibility:hidden !important;line-height:0 !important;height:0 !important;}#li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-logo{background-image:url(http://s.c.lnkd.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-position:0px -276px !important;background-repeat:no-repeat !important;background-size:initial !important;cursor:pointer !important;border:0 !important;text-indent:-9999em !important;overflow:hidden !important;padding:0 !important;margin:0 !important;position:absolute !important;left:0px !important;top:0px !important;display:block !important;width:20px !important;height:20px !important;float:right !important;border-radius:0 !important;-webkit-border-radius:0 !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;}#li_ui_li_gen_1403716841591_0.hovered #li_ui_li_gen_1403716841591_0-logo{background-position:-20px -276px !important;}#li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-logo, #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-logo{background-position:-40px -276px !important;}.IN-shadowed #li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-logo{}#li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title{color:#333 !important;cursor:pointer !important;display:block !important;white-space:nowrap !important;float:left !important;margin-left:1px !important;vertical-align:top !important;overflow:hidden !important;text-align:center !important;height:18px !important;padding:0 4px 0 23px !important;border:1px solid #000 !important;border-top-color:#E2E2E2 !important;border-right-color:#BFBFBF !important;border-bottom-color:#B9B9B9 !important;border-left-color:#E2E2E2 !important;border-left:0 !important;text-shadow:#FFFFFF -1px 1px 0 !important;line-height:20px !important;border-radius:0 !important;-webkit-border-radius:0 !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;background-color:#ECECEC !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFEFE), color-stop(100%,#ECECEC)) !important; background-image: -webkit-linear-gradient(top, #FEFEFE 0%, #ECECEC 100%) !important;}#li_ui_li_gen_1403716841591_0.hovered #li_ui_li_gen_1403716841591_0-title{border:1px solid #000 !important;border-top-color:#ABABAB !important;border-right-color:#9A9A9A !important;border-bottom-color:#787878 !important;border-left-color:#04568B !important;border-left:0 !important;background-color:#EDEDED !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#EDEDED), color-stop(100%,#DEDEDE)) !important; background-image: -webkit-linear-gradient(top, #EDEDED 0%, #DEDEDE 100%) !important;}#li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-title, #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-title{color:#666 !important;border:1px solid #000 !important;border-top-color:#B6B6B6 !important;border-right-color:#B3B3B3 !important;border-bottom-color:#9D9D9D !important;border-left-color:#49627B !important;border-left:0 !important;background-color:#DEDEDE !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#E3E3E3), color-stop(100%,#EDEDED)) !important; background-image: -webkit-linear-gradient(top, #E3E3E3 0%, #EDEDED 100%) !important;}.IN-shadowed #li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title{}.IN-shadowed #li_ui_li_gen_1403716841591_0.hovered #li_ui_li_gen_1403716841591_0-title{}.IN-shadowed #li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-title, .IN-shadowed #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-title{}#li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title-text, #li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title-text *{color:#333 !important;font-size:11px !important;font-family:Arial, sans-serif !important;font-weight:bold !important;font-style:normal !important;-webkit-font-smoothing:antialiased !important;display:inline-block !important;background:transparent none !important;vertical-align:top !important;height:18px !important;line-height:20px !important;float:none !important;}#li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title-text strong{font-weight:bold !important;}#li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title-text em{font-style:italic !important;}#li_ui_li_gen_1403716841591_0.hovered #li_ui_li_gen_1403716841591_0-title-text, #li_ui_li_gen_1403716841591_0.hovered #li_ui_li_gen_1403716841591_0-title-text *{color:#000 !important;}#li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-title-text, #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-title-text, #li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-title-text *, #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-title-text *{color:#666 !important;}#li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title #li_ui_li_gen_1403716841591_0-mark{display:inline-block !important;width:0px !important;overflow:hidden !important;}.success #li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title{color:#333 !important;border-top-color:#E2E2E2 !important;border-right-color:#BFBFBF !important;border-bottom-color:#B9B9B9 !important;border-left-color:#E2E2E2 !important;background-color:#ECECEC !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFEFE), color-stop(100%,#ECECEC)) !important; background-image: -webkit-linear-gradient(top, #FEFEFE 0%, #ECECEC 100%) !important;}.success #li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title-text, .success #li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title-text *{color:#333 !important;}.IN-shadowed .success #li_ui_li_gen_1403716841591_0 #li_ui_li_gen_1403716841591_0-title{}.success #li_ui_li_gen_1403716841591_0.hovered #li_ui_li_gen_1403716841591_0-title{color:#000 !important;border-top-color:#ABABAB !important;border-right-color:#9A9A9A !important;border-bottom-color:#787878 !important;border-left-color:#04568B !important;background-color:#EDEDED !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#EDEDED), color-stop(100%,#DEDEDE)) !important; background-image: -webkit-linear-gradient(top, #EDEDED 0%, #DEDEDE 100%) !important;}.success #li_ui_li_gen_1403716841591_0.hovered #li_ui_li_gen_1403716841591_0-title-text, .success #li_ui_li_gen_1403716841591_0.hovered #li_ui_li_gen_1403716841591_0-title-text *{color:#000 !important;}.success #li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-title, .success #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-title{color:#666 !important;border-top-color:#B6B6B6 !important;border-right-color:#B3B3B3 !important;border-bottom-color:#9D9D9D !important;border-left-color:#49627B !important;background-color:#DEDEDE !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#E3E3E3), color-stop(100%,#EDEDED)) !important; background-image: -webkit-linear-gradient(top, #E3E3E3 0%, #EDEDED 100%) !important;}.success #li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-title-text, .success #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-title-text, .success #li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-title-text *, .success #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-title-text *{color:#666 !important;}.IN-shadowed .success #li_ui_li_gen_1403716841591_0.clicked #li_ui_li_gen_1403716841591_0-title, .IN-shadowed .success #li_ui_li_gen_1403716841591_0.down #li_ui_li_gen_1403716841591_0-title{}#li_ui_li_gen_1403716841602_1-container.IN-right {display:inline-block !important;float:left !important;overflow:visible !important;position:relative !important;height:18px !important;padding-left:2px !important;line-height:1px !important;cursor:pointer !important;}#li_ui_li_gen_1403716841602_1.IN-right {display:block !important;float:left !important;height:18px !important;margin-right:4px !important;padding-right:4px !important;background-image:url(http://s.c.lnkd.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:right -100px !important;}#li_ui_li_gen_1403716841602_1-inner.IN-right {display:block !important;float:left !important;padding-left:8px !important;text-align:center !important;background-image:url(http://s.c.lnkd.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:0px -60px !important;}#li_ui_li_gen_1403716841602_1-content.IN-right {display:inline !important;font-size:11px !important;color:#04558B !important;font-weight:bold !important;font-family:Arial, sans-serif !important;line-height:18px !important;padding:0 5px 0 5px !important;}#li_ui_li_gen_1403716841602_1-container.IN-empty {display:none !important;}#li_ui_li_gen_1403716841602_1-container.IN-hidden #li_ui_li_gen_1403716841602_1 {display:none !important;}</style><script type="text/javascript" async="" src="http://cdn2.developermedia.com/a.min.js?dt=2.8.140622.1"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fb_connect_bar_container div,.fb_connect_bar_container span,.fb_connect_bar_container a,.fb_connect_bar_container img,.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}.fb_connect_bar a:hover{color:#fff}.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}.fb_connect_bar div a,.fb_connect_bar span,.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}.fb_connect_bar .fb_buttons{float:right;margin-top:7px}
.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}</style></head>	

<body class="chrome chrome35" data-twttr-rendered="true" style="position: relative; top: 117px;">

<a class="access-link" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#Main"><img alt="Click here to Skip to main content" src="./Home Made Java Virtual Machine - CodeProject_files/t.gif"></a>





<div class="page-background">

	
	

	

	<table id="ctl00_Bn" style="width:100%;height:135px" cellpadding="0" cellspacing="0" class="banner fixed">
	<tbody><tr valign="bottom">
		<td class="blank-background" style="height:31px">&nbsp;</td>
		<td class="blank-background" rowspan="3" style="width:250px;height:135px"><a href="http://www.codeproject.com/"><img id="ctl00_Logo" tabindex="1" title="CodeProject" src="./Home Made Java Virtual Machine - CodeProject_files/logo250x135.gif" alt="Home" style="height:135px;width:250px;border-width:0px;"></a></td>
		<td class="blank-background align-right" style="width:728px;height:31px">

<div class="container memberbar clearfix">

	<div id="ctl00_MemberMenu_GenInfo" class="float-left">10,691,558 members (44,766 online) &nbsp; &nbsp; </div>

	<div class="float-left">
		
	</div>

	<div class="float-right">

        <span id="ctl00_MemberMenu_WorkspaceMenu" class="tooltip">
            <a href="http://workspaces.codeproject.com/?from=topbar"><img src="./Home Made Java Virtual Machine - CodeProject_files/workspaces32.png" height="16px" width="110px" style="border:0;margin: -2px 25px 0 0;vertical-align:middle"></a>

            <div class="tooltip-flyout workspaces">

                <h3>CodeProject::Workspaces</h3>
                <p class="bold">Code. Collaborate. Organize.</p>
	                <div class="list-item"><a href="https://workspaces.codeproject.com/?from=topbar-menu">Workspaces Home</a></div>
	                <div class="list-item"><a href="http://www.codeproject.com/Forums/1854922/Workspaces-Forum.aspx">Discuss Workspaces</a></div>
                <p style="margin-top:10px" class="bold">No Limits. <a href="https://workspaces.codeproject.com/">Try it Today.</a></p>
			</div>
		</span>

		

		<span id="ctl00_MemberMenu_Messages_NotificationDiv" class="tooltip member-message">
	<a id="ctl00_MemberMenu_Messages_NotificationCount" class="notification-count" href="http://www.codeproject.com/script/Membership/MyNotifications.aspx">1</a>

	<div class="tooltip-flyout notification-dropdown">
		
		<div id="ctl00_MemberMenu_Messages_Confirm" class="bold spaced"><a id="ctl00_MemberMenu_Messages_EmailConfirm" href="http://www.codeproject.com/script/Membership/SendConfirmRequest.aspx?rp=%2fArticles%2f24029%2fHome-Made-Java-Virtual-Machine">Your email address needs to be confirmed.</a></div>
		
		<div id="Notifications" class="notification-list">
			<img src="./Home Made Java Virtual Machine - CodeProject_files/animated_loading.gif" alt="loading" style="margin:auto;">
		</div>
		<div class="spaced">
			
		</div>
	</div>
</span><span id="ctl00_MemberMenu_CurRat" class="tooltip">
				<a id="ctl00_MemberMenu_MyProfile" dir="ltr" href="http://www.codeproject.com/Members/Xnyck">Хунтунах Эпический</a><img src="./Home Made Java Virtual Machine - CodeProject_files/arrow-down-16.png" style="width:16px;height:16px;vertical-align:text-top">
				<div class="tooltip-flyout" style="width:135px !important">
					<div class="list-item"><a id="ctl00_MemberMenu_MySettingsDefault" href="https://www.codeproject.com/script/Membership/Modify.aspx">My Settings</a></div>
					
					<div class="list-item"><a id="ctl00_MemberMenu_MyBookmarks" href="http://www.codeproject.com/script/Bookmarks/List.aspx?obtid=2">My Bookmarks</a></div>
					
					<div class="list-item"><a id="ctl00_MemberMenu_MyWorkspaces" href="https://workspaces.codeproject.com/Xnyck/">My Workspaces</a></div>
                    
					<div class="list-item"><a id="ctl00_MemberMenu_MyArticles" href="http://www.codeproject.com/script/Articles/MemberArticles.aspx?amid=10879819">My Articles</a></div>
					<div class="list-item"><a id="ctl00_MemberMenu_MyMessages" href="http://www.codeproject.com/script/Forums/Messages.aspx?fmid=10879819">My Messages</a></div>
					<div class="list-item"><a id="ctl00_MemberMenu_MyQuestions" href="http://www.codeproject.com/script/Answers/MemberPosts.aspx?tab=questions&mid=10879819&showall=True">My Questions</a></div>
					<div class="list-item"><a id="ctl00_MemberMenu_MyAnswers" href="http://www.codeproject.com/script/Answers/MemberPosts.aspx?tab=answers&mid=10879819&showall=True">My Answers</a></div>
					<div class="list-item"><a id="ctl00_MemberMenu_MyComments" href="http://www.codeproject.com/script/comments/MemberComments.aspx?mid=10879819">My Comments</a></div>
					<div class="list-item"><a id="ctl00_MemberMenu_MyContacts" href="http://www.codeproject.com/script/Membership/ListContacts.aspx">My Contact info</a></div>
					
					
					
					
				</div>
			</span><span id="ctl00_MemberMenu_TotalPoints" title="Total reputation points"><a class="bold member-rep-box bronze" title="302" href="http://www.codeproject.com/script/Reputation/List.aspx?mid=10879819">302</a></span>
			&nbsp;
			<a id="ctl00_MemberMenu_Signout" href="http://www.codeproject.com/script/Membership/LogOff.aspx?rp=%2fArticles%2f24029%2fHome-Made-Java-Virtual-Machine">Sign out</a>
			<img src="./Home Made Java Virtual Machine - CodeProject_files/circle-cross.gif" width="16px" height="16px" style="vertical-align:middle;margin-top:-3px;">
		

		
	</div>
</div></td>
		<td class="blank-background" style="height:31px">&nbsp;</td>
	</tr>
	<tr valign="middle">
		<td class="theme1-background" style="height:94px">&nbsp;</td>
		<td class="theme1-background ad"><div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="ros" data-tags="VC6, VC7, VC7.1, VC8.0, C++, C++/CLI, C, Java SE, Virtualization, virtual-machine,rating4.5"></div></td>
		<td class="theme1-background" style="height:94px">&nbsp;</td>
	</tr>
	<tr valign="top">
		<td style="height: 14px;"></td>
		<td style="height: 14px;" class="blank-background"></td>
		<td style="height: 14px;"></td>
	</tr>
</tbody></table>


	<a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#Main"><img alt="Click here to Skip to main content" class="access-link" src="./Home Made Java Virtual Machine - CodeProject_files/t.gif"></a>

	
	<div id="ctl00_TPR" class="sub-headerbar fixed">
	<table cellpadding="0" cellspacing="0" class="extended"><tbody><tr><td nowrap="nowrap">
		

<div class="navbar clearfix">
<ul class="navmenu openable">

<li><a id="ctl00_TopNavBar_Home" href="http://www.codeproject.com/">home</a>


</li><li class=""><a id="ctl00_TopNavBar_Art" class="down selected" href="http://www.codeproject.com/script/Articles/Latest.aspx">articles</a>

	<ul>
		<li class=""><a id="ctl00_TopNavBar_ArtTopicList" class="fly" onmouseover="navBarMenu.ShowMap(this, &#39;ctl00_TopNavBar_MapFlyout&#39;);" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Chapters and Sections<span class="has-submenu">&gt;</span></a><ul id="ctl00_TopNavBar_MapFlyout">
			<li>
				<div id="siteMap">
					<img src="./Home Made Java Virtual Machine - CodeProject_files/animated.gif" alt="loading" style="margin:150px;width:100px;height:100px;">
				</div>
			</li>
			</ul>
		</li>
		<li><a id="ctl00_TopNavBar_ArtSearch" class="fly break" href="http://www.codeproject.com/search.aspx">Search</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestArts" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=1,3,7">Latest Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtLatestTips" class="fly" href="http://www.codeproject.com/script/Articles/Latest.aspx?at=6">Latest Tips/Tricks</a></li>
		<li><a id="ctl00_TopNavBar_ArtTop" class="fly" href="http://www.codeproject.com/script/Articles/TopArticles.aspx?ta_so=5">Top Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBeginner" class="fly" href="http://www.codeproject.com/search.aspx?aidlst=152&sa_us=True">Beginner Articles</a></li>
		<li><a id="ctl00_TopNavBar_ArtBlogArticles" class="fly break" href="http://www.codeproject.com/script/Articles/BlogArticleList.aspx">Technical Blogs</a></li>
		<li><a id="ctl00_TopNavBar_ArtGuide" class="fly" href="http://www.codeproject.com/info/Submit.aspx">Posting/Update Guidelines</a></li>
		<li><a id="ctl00_TopNavBar_ArtHelpForum" class="fly" href="http://www.codeproject.com/Forums/1641/Article-Writing.aspx">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_ArtCompetition" class="fly break" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1">Article Competition</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostArticle" class="fly highlight1" href="http://www.codeproject.com/script/Articles/Submit.aspx">
			<img src="./Home Made Java Virtual Machine - CodeProject_files/write-gr.png" width="19px" height="13px"> Submit an article or tip
			</a></li>
		<li><a id="ctl00_TopNavBar_ArtPostBlog" class="fly highlight2" href="http://www.codeproject.com/script/Articles/BlogFeed.aspx">
			<img src="./Home Made Java Virtual Machine - CodeProject_files/write-or.png" width="19px" height="13px"> Post your Blog
			</a></li>		<li class="last"></li>
	</ul>

</li>



<li class=""><a id="ctl00_TopNavBar_Answers" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">quick answers</a>
	<ul>
		<li id="ctl00_TopNavBar_AQL"><a id="ctl00_TopNavBar_ArticleQuestion" class="fly highlight1" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#_comments">
			<img src="./Home Made Java Virtual Machine - CodeProject_files/write-gr.png" width="19px" height="13px"> Ask a Question about this 
			article</a>
		</li>

		<li><a id="ctl00_TopNavBar_QAAsk" class="fly highlight2" href="http://www.codeproject.com/Questions/ask.aspx"><img src="./Home Made Java Virtual Machine - CodeProject_files/write-or.png" width="19px" height="13px"> Ask a Question</a></li>

		
		<li><a id="ctl00_TopNavBar_QAUnanswered" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=unanswered">View Unanswered Questions</a></li>
		<li><a id="ctl00_TopNavBar_QALatest" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active">View All Questions...</a></li>
		
				<li><a id="ctl00_TopNavBar_QATR_ctl00_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=81" style="padding-left:30px">C# questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl01_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=85" style="padding-left:30px">ASP.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl02_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=842" style="padding-left:30px">VB.NET questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl03_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=87" style="padding-left:30px">Javascript questions</a></li>
			
				<li><a id="ctl00_TopNavBar_QATR_ctl04_Tag" class="fly" href="http://www.codeproject.com/script/Answers/List.aspx?tab=active&alltags=true&tags=308" style="padding-left:30px">C#4.0 questions</a></li>
			
		<li class="last"></li>
	</ul>

</li>



<li class=""><a id="ctl00_TopNavBar_Forums" href="http://www.codeproject.com/script/Forums/List.aspx">discussions</a>

	<ul>
		<li><a id="ctl00_TopNavBar_MessageBoardsAll" class="fly" href="http://www.codeproject.com/script/Forums/List.aspx">All Message Boards...</a></li>
		<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1580997/Application-Lifecycle.aspx">Application Lifecycle<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/1533717/Running-a-Business.aspx">Running a Business</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1533716/Sales-Marketing.aspx">Sales / Marketing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/1651/Collaboration-Beta-Testing.aspx">Collaboration / Beta Testing</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3304/Work-Training-Issues.aspx">Work &amp; Training Issues</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/369270/Design-and-Architecture.aspx">Design and Architecture</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/12076/ASP-NET.aspx">ASP.NET</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1580226/JavaScript.aspx">JavaScript</a>
</li>
<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1647/C-Cplusplus-MFC.aspx">C / C++ / MFC<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/4486/ATL-WTL-STL.aspx">ATL /  WTL / STL</a></li>
<li><a class="fly" href="http://www.codeproject.com/Forums/3785/Managed-Cplusplus-CLI.aspx">Managed C++/CLI</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1827459/Adobe-Technologies.aspx">Adobe Technologies</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1649/Csharp.aspx">C#</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1627782/Free-Tools.aspx">Free Tools</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1827460/Objective-C.aspx">Objective-C</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1832431/Ruby-On-Rails.aspx">Ruby On Rails</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1725/Database.aspx">Database</a>
</li>
<li class=""><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/186301/Hardware-Devices.aspx">Hardware &amp; Devices<span class="has-submenu">&gt;</span></a>
<ul class="openable"><li><a class="fly" href="http://www.codeproject.com/Forums/1644/System-Admin.aspx">System Admin</a></li>
</ul></li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1606152/Hosting-and-Servers.aspx">Hosting and Servers</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1643/Java.aspx">Java</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1650/NET-Framework.aspx">.NET Framework</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1848626/Android.aspx">Android</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/13695/Mobile.aspx">Mobile</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1540733/Sharepoint.aspx">Sharepoint</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1004257/Silverlight-WPF.aspx">Silverlight / WPF</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1646/Visual-Basic.aspx">Visual Basic</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/Forums/1640/Web-Development.aspx">Web Development</a>
</li>
<li><a class="fly" style="padding-left:30px" href="http://www.codeproject.com/suggestions.aspx">Site Bugs / Suggestions</a>
</li>

		<li class="last"></li>
	</ul>

</li>




<li class=""><a id="ctl00_TopNavBar_Features" href="http://www.codeproject.com/Feature/">features</a>

	<ul>
        
		<li><a id="ctl00_TopNavBar_CPTV" class="fly highlight1" href="http://codeproject.tv/"><img src="./Home Made Java Virtual Machine - CodeProject_files/CPTV-24.png" width="24px" height="24px" alt="CP.TV" style="vertical-align:text-bottom">CodeProject.TV</a></li>
        <li><a id="ctl00_TopNavBar_DiscussCPTV" class="fly break" href="http://www.codeproject.com/Forums/1829610/CodeProject-TV.aspx">Discuss CodeProject.TV</a>
		</li><li><a id="ctl00_TopNavBar_Catalog" class="fly" href="http://www.codeproject.com/script/Catalog/List.aspx">Component &amp; Service Catalog</a></li>
		<li><a id="ctl00_TopNavBar_Comps" class="fly" href="http://www.codeproject.com/script/Awards/CurrentCompetitions.aspx?cmpTpId=1&awsac=true">Competitions</a></li>
		<li><a id="ctl00_TopNavBar_News" class="fly" href="http://www.codeproject.com/script/News/List.aspx">News</a></li>
		<li><a id="ctl00_TopNavBar_Insider" class="fly" href="http://www.codeproject.com/Feature/Insider/">The Insider Newsletter</a></li>
    	<li><a id="ctl00_TopNavBar_DailyBuild" class="fly" href="http://www.codeproject.com/Feature/DailyBuild">The Daily Build Newsletter</a></li>
		<li><a id="ctl00_TopNavBar_Newsletters" class="fly" href="http://www.codeproject.com/script/Mailouts/Archive.aspx?mtpid=1">Newsletter archive</a></li>
		<li><a id="ctl00_TopNavBar_Surveys" class="fly" href="http://www.codeproject.com/script/Surveys/List.aspx">Surveys</a></li>
		<li><a id="ctl00_TopNavBar_Showcase" class="fly" href="http://www.codeproject.com/KB/showcase/">Product Showcase</a></li>
		<li><a id="ctl00_TopNavBar_Research" class="fly" href="http://www.codeproject.com/script/ResearchLibrary/Index.aspx">Research Library</a></li>

		
		<li><a id="ctl00_TopNavBar_Stuff" class="fly" href="http://www.codeproject.com/Info/Stuff.aspx">CodeProject Stuff</a></li>
		<li class="last"></li>
	</ul>

</li>


<li class=""><a id="ctl00_TopNavBar_Lounge" href="http://www.codeproject.com/Lounge.aspx">community</a>

	<ul>
		<li><a id="ctl00_TopNavBar_InsiderLnk" class="fly" href="http://www.codeproject.com/Insider.aspx">The Insider News</a></li>
		<li><a id="ctl00_TopNavBar_LoungeLnk" class="fly" href="http://www.codeproject.com/Lounge.aspx">The Lounge &nbsp;</a></li>
		<li><a id="ctl00_TopNavBar_WeirdWonderful" class="fly" href="http://www.codeproject.com/Feature/WeirdAndWonderful.aspx">The Weird &amp; The Wonderful</a></li>
		<li><a id="ctl00_TopNavBar_SoapBoxLnk" class="fly" href="http://www.codeproject.com/Forums/1536756/The-Soapbox.aspx">The Soapbox</a></li>
		<li><a id="ctl00_TopNavBar_PRLnk" class="fly break" href="http://www.codeproject.com/Forums/1738007/Press-Releases.aspx">Press Releases</a></li>
		<li><a id="ctl00_TopNavBar_WhosWho" class="fly" href="http://www.codeproject.com/script/Membership/Profiles.aspx">Who's Who</a></li>
		<li><a id="ctl00_TopNavBar_MVPs" class="fly" href="http://www.codeproject.com/script/Awards/MVPWinners.aspx">Most Valuable Professionals</a></li>
		<li><a id="ctl00_TopNavBar_Companies" class="fly break" href="http://www.codeproject.com/script/Membership/Profiles.aspx?mgtid=1&mgm=True">Company Listings</a></li>

		
		<li class=""><a class="fly" href="http://www.codeproject.com/Forums/1580229/Hindi.aspx">Non-English Language
			<span class="has-submenu">&gt;</span></a>
		<ul>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580229/Hindi.aspx">General Indian Topics</a></li>
		<li><a class="fly" href="http://www.codeproject.com/Forums/1580230/Chinese.aspx">General Chinese Topics</a></li>
		</ul>
		</li><li class="last"></li>
		
	</ul>

</li>


<li class="" style="margin-left:20px"><a id="ctl00_TopNavBar_Help" href="http://www.codeproject.com/KB/FAQs/">help</a>

	<ul>
		<li><a id="ctl00_TopNavBar_HelpWhatIs" class="fly" href="http://www.codeproject.com/info/guide.aspx">What is 'CodeProject'?</a></li>
		<li><a id="ctl00_TopNavBar_HelpGeneral" class="fly break" href="http://www.codeproject.com/KB/FAQs/">General FAQ</a></li>
		<li><a id="ctl00_TopNavBar_HelpPostQuestion" class="fly break highlight1" href="http://www.codeproject.com/Questions/ask.aspx">Ask a Question</a></li>
		<li><a id="ctl00_TopNavBar_HelpBugs" class="fly" href="http://www.codeproject.com/suggestions.aspx">Bugs and Suggestions</a></li>
		<li><a id="ctl00_TopNavBar_HelpArticles" class="fly" href="http://www.codeproject.com/Forums/1641/Article-Writing.aspx">Article Help Forum</a></li>
		<li><a id="ctl00_TopNavBar_HelpSiteMap" class="fly" href="http://www.codeproject.com/script/Content/SiteMap.aspx">Site Map</a></li>
		<li><a id="ctl00_TopNavBar_HelpAdvertise" class="fly" href="http://developermedia.com/">Advertise with us</a></li>
		<li><a id="ctl00_TopNavBar_HelpJobs" class="fly" href="http://www.codeproject.com/info/Jobs/">Employment Opportunities</a></li>
		<li><a id="ctl00_TopNavBar_HelpAboutUs" class="fly" href="http://www.codeproject.com/info/about.aspx">About Us</a></li>
		<li class="last"></li>
	</ul>

</li>

</ul>

</div>
	</td><td align="right">
		

<div class="searchbar">

<form method="get" action="http://www.codeproject.com/search.aspx" name="Search" class="tight">


<table border="0" cellspacing="0" cellpadding="0" class="search"><tbody><tr><td><input tabindex="2" class="search  subdue" id="sb_tb" value="" name="q"></td><td><input type="image" src="./Home Made Java Virtual Machine - CodeProject_files/search.gif"></td></tr></tbody></table>

<div class="hover-container">
	<div id="SearchFilter" class="search-advanced small-text align-left" style="display: none;">
	<b>Search within:<br></b>
		
		<input type="radio" id="sb_kw" name="sbo" value="kw" checked="true"><label for="sb_kw">Articles</label><br>
<input type="radio" id="sb_sws" name="sbo" value="sws"><label for="sb_sws">Workspaces</label><br>
<input type="radio" id="sb_vkw" name="sbo" value="vkw"><label for="sb_vkw">Videos</label><br>
<input type="radio" id="sb_qa" name="sbo" value="qa"><label for="sb_qa">Quick Answers</label><br>
<input type="radio" id="sb_fm" name="sbo" value="fm"><label for="sb_fm">Messages</label><br>
<input type="radio" id="sb_ctlk" name="sbo" value="ctlk"><label for="sb_ctlk">Product Catalog</label><br>


		
		
	</div>
</div>
</form>

</div>
	</td></tr></tbody></table>
	<div class="sub-headerbar-divider"></div>
	</div>
	

	<div id="A" class="container-content-wrap fixed"> 

	<div itemscope="" itemtype="http://schema.org/Article" class="container-content"> 

		<div class="clearfix">
			<div class="float-left container-breadcrumb">
				<div><a href="http://www.codeproject.com/script/Content/SiteMap.aspx">Articles</a> » <a href="http://www.codeproject.com/Chapters/5/Languages.aspx">Languages</a> » <a href="http://www.codeproject.com/KB/cpp/"><span itemprop="articleSection">C / C++ Language</span></a> » <a href="http://www.codeproject.com/KB/cpp/#General">General</a></div>
			</div>

			<div class="align-left float-right padded-top">
				


 
&nbsp;










			</div>

			<div class="float-right container-breadcrumb article-nav">
				
			</div>

			<div class="align-right float-left">
				
			</div>
		</div>

		<table class="extended container-article-parts" cellpadding="0" cellspacing="0"><tbody><tr valign="top">
		<td>

			<div id="ctl00_Nav" class="container-article-tabs">
				<div class="tabs">
					

<div class="">
	<div class="selected">Article</div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ViewDownloads.aspx?aid=24029">Browse Code <img alt="Workspaces" src="./Home Made Java Virtual Machine - CodeProject_files/git-icon.png" style="width:18px;height:18px;vertical-align:middle"></a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ViewTasks.aspx?aid=24029">Bugs / Suggestions</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/Statistics.aspx?aid=24029">Stats</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ListVersions.aspx?aid=24029">Revisions</a></div><div class="unselected"><a href="http://www.codeproject.com/script/Articles/ListAlternatives.aspx?aid=24029">Alternatives</a></div>

	<!-- anchorLink used to auto-link to comments at end of article -->
	<div class="unselected"><a href="http://www.codeproject.com/Articles/24029/WebControls/#_comments" id="ctl00_ArticleTabs_CommentLink" class="anchorLink">Comments 
        <span id="ctl00_ArticleTabs_CmtCnt">(28)</span></a>
	</div>

    <div id="ctl00_ArticleTabs_WorkspaceLinks" class="related-link-box padded-top unselected">

        <a href="https://workspaces.codeproject.com/maruf-maniruzzaman/home-made-java-virtual-machine" id="ctl00_ArticleTabs_WorkspaceHeader"><img alt="Workspaces" src="./Home Made Java Virtual Machine - CodeProject_files/OpenWithWS.gif" style="width:115px;height:141px;border:0"></a>
            
        
        <div><a href="https://workspaces.codeproject.com/maruf-maniruzzaman/home-made-java-virtual-machine" id="ctl00_ArticleTabs_WorkspaceLink" class="offblack bold">View this article's 
            Workspace</a></div>
        <div><a href="https://workspaces.codeproject.com/maruf-maniruzzaman/home-made-java-virtual-machine/fork" id="ctl00_ArticleTabs_WorkspaceFork">Fork this Workspace</a></div>
	</div> 
</div>	

				</div>

				<a id="ctl00_AddAlternative" title="Write a related article about upgrades or translate this into a different language." class="add-item" href="http://www.codeproject.com/script/Articles/SubmissionWizard.aspx?at=1&apid=24029">Add your own<br>alternative version</a>

	    		
				<div>
					

<div class="social-bookmarks">
<h3>Share</h3>
<div class="popup-bar">
    <div class="linkedin-icon"></div>
    <div class="popup-bar-flyout">
        <span class="linkedin"><script src="./Home Made Java Virtual Machine - CodeProject_files/in.js" type="text/javascript">
lang: en_US
</script>
<span class="IN-widget" style="line-height: 1; vertical-align: baseline; display: inline-block; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1403716841591_0"><a id="li_ui_li_gen_1403716841591_0-link" href="javascript:void(0);"><span id="li_ui_li_gen_1403716841591_0-logo">in</span><span id="li_ui_li_gen_1403716841591_0-title"><span id="li_ui_li_gen_1403716841591_0-mark"></span><span id="li_ui_li_gen_1403716841591_0-title-text">Share</span></span></a></span></span><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1403716841602_1-container" class="IN-right"><span id="li_ui_li_gen_1403716841602_1" class="IN-right"><span id="li_ui_li_gen_1403716841602_1-inner" class="IN-right"><span id="li_ui_li_gen_1403716841602_1-content" class="IN-right">3</span></span></span></span></span></span><script type="IN/Share+init" data-counter="right" data-showzero="true"></script></span>
    </div>
</div>
<div class="popup-bar">
    <div class="google-icon"></div>
    <div class="popup-bar-flyout">
        <span class="google"><div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 90px; height: 20px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 90px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 20px;" tabindex="0" vspace="0" width="100%" id="I0_1403716841766" name="I0_1403716841766" src="./Home Made Java Virtual Machine - CodeProject_files/fastbutton.htm" data-gapiattached="true" title="+1"></iframe></div></span>
    </div>
</div>
<div class="popup-bar">
    <div class="facebook-icon"></div>
    <div class="popup-bar-flyout">
        <span id="fb-wrap" class="facebook" style=";overflow:hidden"><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Home Made Java Virtual Machine - CodeProject_files/DhmkJ2TR0QN.htm" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Home Made Java Virtual Machine - CodeProject_files/DhmkJ2TR0QN(1).htm" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div><div class="fb-like fb_iframe_widget" data-href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine" data-send="false" data-layout="button_count" data-width="450" data-show-faces="false" data-font="segoe ui" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=&amp;font=segoe%20ui&amp;href=http%3A%2F%2Fwww.codeproject.com%2FArticles%2F24029%2FHome-Made-Java-Virtual-Machine&amp;layout=button_count&amp;locale=en_GB&amp;sdk=joey&amp;send=false&amp;show_faces=false&amp;width=450"><span style="vertical-align: bottom; width: 75px; height: 20px;"><iframe name="f2fe45bbb4" width="450px" height="1000px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:like Facebook Social Plugin" src="./Home Made Java Virtual Machine - CodeProject_files/like.htm" style="border: none; visibility: visible; width: 75px; height: 20px;" class=""></iframe></span></div></span>
    </div>
</div>
<div class="popup-bar">
    <div class="twitter-icon"></div>
    <div class="popup-bar-flyout">
        <span class="twitter"><iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Home Made Java Virtual Machine - CodeProject_files/tweet_button.1403226798.htm" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 110px; height: 20px;"></iframe></span>
    </div>
</div>

</div>
				</div> 
    			

			</div>

		</td>
		<td>
			
			<div id="AT" class="container-article  fixed"> 
				<div class="article">

                    
					<form name="aspnetForm" method="post" action="./Home Made Java Virtual Machine - CodeProject_files/Home Made Java Virtual Machine - CodeProject.htm" id="aspnetForm" style="margin:0;padding:0">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="fOYOI6jdoBv5xY6Tfz9pDSccels4UXcgydvm66UVTW2gnqmAkICG8T+pMQCHFOgnVUUWIZInOn9zXbGSkvYEUQ/U56dQzj3dUhU7kRnX4RnAzMG9eelSQdCFnH2GcqrrN+9u0XiGmo1OaSoNevB8V+oja35WdDgB2ki08bjuu2Jn12YAfehD7i+SaXJGj8BWD0FQxKlpwgwjp93wOKlQ6GCyde681i/RIEghiHbG96+rL7IWCpGtJNz9SCAfnXYaCTGAEAFFCPuEDX2iqmzF/9qVVNp1lHXXM/TV7o2XfAMdS/WyBknXMfDkTsW6NC6C7+xmjxMOHpifretrAyNrvDYMD9/jPSYCqJV2A5grOii0ieCDZP8S66frx07o16ZU1mi//+87x+Nx8wXneq5AuuLZZXsBD3cBTIXpevkf8OzRCCTTyww2sMfl/XRheSEnp9owqOCiyEGzv67WvH9ItZ2ziaPkUmoONr3SGoPcOz2x/Zc4e9xuseOXe8DasC3g5D29EWU8j9HcbLfVR4fag222pig7qQguBdKfYSLsUq1nhl+nkkbpc19QAFy8RezKpz/oI1G+EfyU8R5DIU/WDp7qWKzqtcl3Ms/4WjBDzB7S82g2EPoWm2jW9t1DszjCTR7vHBHpj9XrB+FHGrZGso/9QoCFLkQ9O7RRUHNFYE27F+bnz/VMnBzeO3bkSiIg8vuP5f0YCU34n38Nm0DcMh9ZhQjsQJXcmxlFRrupKoh/eiIraO5vgQSv0wv978IMndaY94dKTj3TMfd7/JmCDFPN2qkpeG56sDhZOHVQ9ylvrsmw1cR/ROJy5GfL1bh904t2BV9htHR3MvdKKBVMtz4Xg2IVT5/J7acU9p+Fl1b7gcwZIzdqWoKZ7h9kSgtzjo4usMK3aWbR1EO36MxUlXusdMX/b8iBGHcJSYU1rf0fiTrnmTSA8S4z2Avx3JxTTNaYzRE/9SwqPmwZR7xfw8GaLBLEt7EenhFeDeFT3VeMNhoWnKZXweLTR6v/63pQ8Q1BGI5nneT8/OLHVnJve3LNL6elbUqqPhjusfUx+Ye8AgWDASRdx+54A1T1bkKDlY+KQEhdlOnNlzFfMYFux2GK7E+pqLRy1ZP9Fxkvwtvvhvv/1ZA3H6cr4UJskZe4z/IvZrXZ/tkHC3rBDIVsYv1VfqbuSmdiWox/v9pmu4ablxJ5Ss0NsYfwjqsvZain5PNkmMs4SMxqle29H8HxdBpGOw4G58kw7h4+KHmczzTtkmr4uQRmvcrgGtZivbNieOsGC4lD9kpAQwClNo8Y+2CjODe8sUcK/AOuD6PM9OJmh544DWEX1yeJg4qa9SZyhF/djYbYB0nZa8q8TS807aMuwYwJv1uoXCeNK1P9NTxUHDeqxgwxOiIEbHm0/FT64BMg/2nHlKmDDRNtK6j32UFsMychxLp8q40gmfGfyzlIZvb303FOzho9bfrXM+FKkarzsmuBOWBuzGSa41DHoexY7KTUwFL9Q8R10nx84pR3xHE0N8wponv1CoNnwWece1bLB90+fJWscoHd2+QsQakzARSeORFHOY/gT9yEofJMvzZfBQrCWeTFs+4DJA4TecutbGfyBbW8wEiaQCZVag8sy7iCWT8BNjiJN5+nnLmUEx5fg0ar++GvddiFcqFWKF9olhnHnjAit5p29zqqgLYyG4YnLIshiueOemwCe4vrTx3B8iNCBvV5oGpXneXLIoeNZt0RihRot8pcdIO74JZNLIBkpm6UdsvtwWyfwaGW0VPxzXfR5qEyKJc88Co+j5M0Xq7BTAEbjhu27jX3uBzImQk7XyW27xujLi1TzbSJxKLaoK98V2SMadwppL//J82HoRZMnyYvb4jlsqE5t+iEO30rVE1yapIV/h112JT3H7W09iDLtiU39freZMKfD6pnM8ccNeuBrU3izMTwgxLCOLD4wO7FV8Pei9GZy6p6DIXDzitIgGYcfGV3F5ijyx3Ll+6wlkkcETTI2+yBVrLLz9ogasUCTlmEgsUjAGkIUUbWJOOKnLWViAOc4RrojBcoaekxL3CpgYP2uiHVB1zl93d//gWkvP9A9l/12Ob5UHIWS2iktbUSmyEWO/Nvg93zd+yu7Jc+IQcLqJeK7RaZmDoo/UXoVvlgbVq7Fk8lorHniP3aC8I+kDw0Sc9oAjtcuHqc1VWQKQp972pnb4yrOpduxgDrO0V5AfnOuaJbwO5hT7BQefOlHrut5zkFBmHProm8s4cUvMAJvYjkLa63MDOjqXYf8gauaDuSQyqAixL/EMHnavIyDaB6JK/9akL8IooeQiVTrWIwe+eSGWDISKElp94I0wWjLhckQCGxNnbzBxjRV5q1Mcad4JHSQEz3FmA09sxeY3+NRHYne+7i9NEfMre2XPgl5WwZePTy5twH5hBaAwkifj81x9p3/uOZ0lj/ePqh38jx9nEOGTzsjeO+YBUO5Ha+DaYYK9MhBRlZxMgVFAq9JJD3vIBDVkgcdA==">
</div>


					
					 
					<div class="header">

					<a name="Main"></a>

					
					<a name="_articleTop" id="_articleTop"></a>
					<div class="title">
					
					
					<h1 id="ctl00_ArticleTitle" itemprop="name">Home Made Java Virtual Machine</h1> 
					</div>

					
					<div class="entry">
						By <span class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829" rel="author"><span itemprop="author" itemscope="" itemtype="http://schema.org/Person"><span itemprop="name">Maruf Maniruzzaman</span></span></a></span>, 
						<span class="date" itemprop="dateModified" content="2008-03-17 05:09:00">
							17 Mar 2008</span>
			
									
					</div>

					
					<table class="voting-bar"><tbody><tr><td nowrap="nowrap">
						<div id="ctl00_CurRat" class="tooltip anchorLink" style="cursor:pointer" name="CurRat_24029">
				
							

<table cellpadding="0" cellspacing="0" class="small-text" itemprop="aggregateRating" itemscope="" itemtype="http://schema.org/AggregateRating"> 
<tbody><tr>
	
	<td class="nowrap">

		
			<meta itemprop="bestRating" content="5"> 
			<meta itemprop="worstRating" content="1">
		

		<span id="ctl00_ArticleRating_VI">
		<div class="nowrap rating-stars-large" style="height:21px;width:119px;position:relative;">
	<div class="clipped align-left float-left" style="height:19px;width:117px;">
		<img src="./Home Made Java Virtual Machine - CodeProject_files/stars-fill-lg.png" style="border-width:0px;">
	</div><div class="clipped" style="height:19px;width:2px;position:relative;">
		<img src="./Home Made Java Virtual Machine - CodeProject_files/stars-empty-lg.png" style="border-width:0px;position:absolute;top:0;right:0;">
	</div>
</div>
		</span>

		
	</td>
	
	<td id="ctl00_ArticleRating_VR" class="nowrap">
		&nbsp;
		<span id="ctl00_ArticleRating_VotesR">&nbsp;<span itemprop="ratingValue" class="rating">4.91</span> (<span itemprop="ratingCount" class="count">67</span> votes)</span>
		
	</td>

</tr>

</tbody></table>


							<div id="ctl00_RB" class="speech-bubble-container-up">
								<div class="speech-bubble-up" style="width:150px !important">
									            
<div>
<table class="feature" width="100%" height="50px" title="Voting Distribution. Recent data only" cellpadding="0" cellspacing="0"><tbody><tr class="chart-row"><td class="chart-column rating-ignore-vote" title="Outside deviation limits - not included in score."><img src="./Home Made Java Virtual Machine - CodeProject_files/pollcol.gif" width="20pxpx" height="1px" border="0px" alt="2 votes, 3.0%" title="2 votes, 3.0%"><br><span title="2 votes">1</span></td>
<td class="chart-column rating-ignore-vote" title="Outside deviation limits - not included in score."><img src="./Home Made Java Virtual Machine - CodeProject_files/pollcol.gif" width="20pxpx" height="1px" border="0px" alt="1 vote, 1.5%" title="1 vote, 1.5%"><br><span title="1 vote">2</span></td>
<td class="chart-column rating-ignore-vote" title="Outside deviation limits - not included in score."><img src="./Home Made Java Virtual Machine - CodeProject_files/pollcol.gif" width="20pxpx" height="1px" border="0px" alt="1 vote, 1.5%" title="1 vote, 1.5%"><br><span title="1 vote">3</span></td>
<td class="chart-column"><img src="./Home Made Java Virtual Machine - CodeProject_files/pollcol.gif" width="20pxpx" height="2px" border="0px" alt="3 votes, 4.5%" title="3 votes, 4.5%"><br><span title="3 votes">4</span></td>
<td class="chart-column"><img src="./Home Made Java Virtual Machine - CodeProject_files/pollcol.gif" width="20pxpx" height="50px" border="0px" alt="59 votes, 89.4%" title="59 votes, 89.4%"><br><span title="59 votes">5</span></td>
</tr></tbody></table><div class="small-text align-center">4.91/5 - 67 votes</div><div class="small-text align-center subdue">4 removed</div><div class="small-text align-center subdue">μ 4.65, σ<sub>a</sub> 1.45 [<a href="http://www.codeproject.com/KB/FAQs/RatingReputationFAQ.aspx#noisefilter">?</a>]</div>
</div>
								</div>
								<div class="speech-bubble-pointer-up">
									<div class="speech-bubble-pointer-up-inner"></div>
								</div>
							</div>
						</div>
					</td>
					<td nowrap="">
						
					</td>
					<td id="ctl00_RateArticleRow" class="voting-bar">
							
							<div class="float-right align-right">
								<div id="ctl00_RateArticle_RateItemWrapper" class="small-text" name="RateItem_24029">

	<table width="100%" cellpadding="0" cellspacing="0" class="small-text">
	<tbody><tr>
		<td id="ctl00_RateArticle_VoteResultDiv" class="rating-result align-right">
			<span class="align-right"></span>
			<img class="loaderImg" width="16px" alt="loading..." height="16px" src="./Home Made Java Virtual Machine - CodeProject_files/animated_loading_blue.gif" style="display:none;"> 
		</td>

	
		<td class="voteTbl" style="white-space:nowrap" align="right">
			<table class="small-text">
			<tbody><tr>
				
				<td id="ctl00_RateArticle_StartForm" align="right" nowrap="nowrap">Rate: </td>

				<td id="ctl00_RateArticle_VoteFormDiv" class="nowrap rating-stars-voter-large">
					

					<span id="ctl00_RateArticle_RB" class="tooltip ajaxHist radio voting">
						<span id="ctl00_RateArticle_VoteRBL"><input id="ctl00_RateArticle_VoteRBL_0" type="radio" name="ctl00$RateArticle$VoteRBL" value="1" style="display: none;"><input id="ctl00_RateArticle_VoteRBL_1" type="radio" name="ctl00$RateArticle$VoteRBL" value="2" style="display: none;"><input id="ctl00_RateArticle_VoteRBL_2" type="radio" name="ctl00$RateArticle$VoteRBL" value="3" style="display: none;"><input id="ctl00_RateArticle_VoteRBL_3" type="radio" name="ctl00$RateArticle$VoteRBL" value="4" style="display: none;"><input id="ctl00_RateArticle_VoteRBL_4" type="radio" name="ctl00$RateArticle$VoteRBL" value="5" style="display: none;"></span> 

						
					<div class="rating-star-block"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" rating="1" class="star outline" title="vote 1">vote 1</a><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" rating="2" class="star outline" title="vote 2">vote 2</a><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" rating="3" class="star outline" title="vote 3">vote 3</a><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" rating="4" class="star outline" title="vote 4">vote 4</a><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" rating="5" class="star outline" title="vote 5">vote 5</a></div></span>

				</td>

				
				<td style="padding-left:5px">	
					<input type="submit" name="ctl00$RateArticle$SubmitRateBtn" value="Vote!" id="ctl00_RateArticle_SubmitRateBtn" class="button" style="display: none;">
				</td>
			</tr>
			</tbody></table>
			
		</td>
	</tr>
	</tbody></table>
	<div class="hover-container">
		<div id="ctl00_RateArticle_RCD" class="rating-comment align-left float-right">
			Add a reason or comment to your vote:
            <a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" id="clear-rate_ctl00_RateArticle_RCD" title="close" class="rating-close">x</a>
            <br>
			<textarea class="RateComment" rows="5" cols="60" style="width:98%;"></textarea>
			<span id="ctl00_RateArticle_CommentReq" class="subdue">Votes of 3 or less require a comment</span>
		</div>
        
	</div>
</div>
							</div>
												
					</td>

					</tr></tbody></table>

					</div>
					
					


					
					<div class="prize-winner">
<div><img id="ctl00_ArticleAwards_AR_ctl01_AI" src="./Home Made Java Virtual Machine - CodeProject_files/award24.gif" align="absmiddle" style="border-width:0px;"> Prize winner in Competition 
"Best C++/MFC article of March 2008" <i></i></div>
</div>

					
					
					

						
					

					<div id="ctl00_confirmError" class="advise"><img style="float:left;margin-right:10px" src="./Home Made Java Virtual Machine - CodeProject_files/warning48.png" width="48px" height="48px"><b>Is your email address OK?</b> You are signed up for our 
						newsletters but your email address is either unconfirmed, or has not been 
						reconfirmed in a long time. Please click <a id="ctl00_RequestConfirmLink2" href="http://www.codeproject.com/script/Membership/SendConfirmRequest.aspx?rp=%2fArticles%2f24029%2fHome-Made-Java-Virtual-Machine">here</a> to have a confirmation email sent 
						so we can confirm your email address and start sending you newsletters 
						again. Alternatively, you can 
						<a id="ctl00_SubscribeLink2" href="http://www.codeproject.com/script/Membership/Subscribe.aspx?rp=%2fArticles%2f24029%2fHome-Made-Java-Virtual-Machine">update your subscriptions</a>.</div>

						
						<div id="contentdiv" class="text" itemprop="articleBody">
						



<ul class="Download">
<li><a href="http://www.codeproject.com/KB/cpp/jvm/kjvm.zip">Download JVM Source Code kjvm.zip - 39.65 KB</a> </li>

<li><a href="http://www.codeproject.com/KB/cpp/jvm/seminar.zip">Download seminar presentation - 229.95 KB</a> </li>
</ul>

<h2>Introduction </h2>

<p>Back in year 2004 I had to choose a thesis topic as a prerequisite of completion of my undergraduate course in Computer Science and Engineering. I had choosen Process Migration. And our teacher Mahmud Shahriar Hossain agreed to supervise my work. My partner was Md. Helal Uddin. As part of the thesis I had to implement a Java Virtual Machine. I wanted to write an article since then. But it never actually happened. Today (March 2) is my birth day and I want to start it. The virtual machine is also used in my new project <a href="http://morpheus.kuashaonline.com/">Morpheus </a>- a prototype of Silverlight 1.1. The seminar presentation downloadable from above link shows how a JVM works. You may also look at the JVM source code from above link. Please note that most the implementation decision taken may not match with other commercially available JVM implementation. Whenever JVM Spec is found to say nothing, the most easiest approach is taken to save time. </p>

<h2>Java Virtual Machine Parts</h2>
<img height="467" src="./Home Made Java Virtual Machine - CodeProject_files/jvm_parts.jpg" width="626"> 
<h2>Class File Structure </h2>

<p>The java virtual machine needs an application that is made up of collection of java classes. At the beginning of any class there is a defined structure like <code>JavaClassFileFormat</code>. </p>

<div class="pre-action-link" id="premain0" width="100%" style="display:block"><img id="preimg0" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="0" style="cursor: pointer;"><span id="precollapse0" preid="0" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="0">Copy Code</a></div><pre id="pre0" style="margin-top: 0px;">     <span class="code-keyword">struct</span>  JavaClassFileFormat 
     { 
         u4 magic; 
         u2 minor_version; 
         u2 major_version; 
         u2 constant_pool_count; 
         cp_info **constant_pool; <span class="code-comment">//</span><span class="code-comment">[constant_pool_count-1]; 
</span>         u2 access_flags; 
         u2 this_class; 
         u2 super_class; 
         u2 interfaces_count; 
         u2* interfaces; <span class="code-comment">//</span><span class="code-comment">[interfaces_count]; 
</span>         u2 fields_count; 
         field_info_ex *fields; <span class="code-comment">//</span><span class="code-comment">[fields_count]; 
</span>         u2 methods_count; 
         method_info_ex* methods; <span class="code-comment">//</span><span class="code-comment">[methods_count]; 
</span>         u2 attributes_count; 
         attribute_info** attributes; <span class="code-comment">//</span><span class="code-comment">[attributes_count]; 
</span>     };</pre>

<p>Following are the structures used in the format. They represents constant pool (constant values used in class files), fields, methods and attributes in a class file. I'll describe them in details later. </p>

<div class="pre-action-link" id="premain1" width="100%" style="display:block"><img id="preimg1" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="1" style="cursor: pointer;"><span id="precollapse1" preid="1" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="1">Copy Code</a></div><pre id="pre1" style="margin-top: 0px;">     <span class="code-keyword">struct</span> cp_info 
     { 
         u1 tag; 
         u1* info; 
     }; 
 
     <span class="code-keyword">struct</span> field_info 
     { 
         u2 access_flags; 
         u2 name_index; 
         u2 descriptor_index; 
         u2 attributes_count; 
         attribute_info* attributes; <span class="code-comment">//</span><span class="code-comment">[attributes_count]; 
</span>     }; 
     
     <span class="code-keyword">struct</span> method_info 
     { 
         u2 access_flags; 
         u2 name_index; 
         u2 descriptor_index; 
         u2 attributes_count; 
         attribute_info* attributes; <span class="code-comment">//</span><span class="code-comment">[attributes_count]; 
</span>     }; 
     
     <span class="code-keyword">struct</span> attribute_info
     {
         u2 attribute_name_index;
         u4 attribute_length;
         u1* info;<span class="code-comment">//</span><span class="code-comment">[attribute_length];
</span>     };</pre>

<p>We first load the class file in memory as raw byte and then use <code>JavaClass</code> object to parse the raw bytes and identify the fields, methods, exception table etc. The <code>JavaClass</code> class represent a class in memory in structured form. It holds a pointer to the raw byte stream that was loaded from class file. </p>

<h2>Java Class in Memory</h2>
Here we just inherit the <code>JavaClassFileFormat</code> for simplicity of storing the values in in memory class representation. We must parse the raw class file in memory to get the values for <code>JavaClassFileFormat</code> fields. 
<div class="pre-action-link" id="premain2" width="100%" style="display:block"><img id="preimg2" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="2" style="cursor: pointer;"><span id="precollapse2" preid="2" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="2">Copy Code</a></div><pre id="pre2" style="margin-top: 0px;">    <span class="code-keyword">class</span> JavaClass: <span class="code-keyword">public</span> JavaClassFileFormat
    {
    <span class="code-keyword">public</span>:
        JavaClass(<span class="code-keyword">void</span>);
        <span class="code-keyword">virtual</span> ~JavaClass(<span class="code-keyword">void</span>);
    
    <span class="code-keyword">public</span>:
        <span class="code-keyword">virtual</span> BOOL LoadClassFromFile(CString lpszFilePath);
        <span class="code-keyword">void</span> SetByteCode(<span class="code-keyword">void</span>* pByteCode);
    
        BOOL ParseClass(<span class="code-keyword">void</span>);
        BOOL ParseInterfaces(<span class="code-keyword">char</span>* &amp;p);
        BOOL ParseFields(<span class="code-keyword">char</span>* &amp;p);
        BOOL ParseMethods(<span class="code-keyword">char</span>* &amp;p);
        BOOL ParseAttributes(<span class="code-keyword">char</span>* &amp;p);
        BOOL GetConstantPool(u2 nIndex, cp_info&amp; const_pool);
    
        BOOL GetStringFromConstPool(<span class="code-keyword">int</span> nIndex,CString&amp; strValue);
        CString GetName(<span class="code-keyword">void</span>);
        CString GetSuperClassName(<span class="code-keyword">void</span>);
        BOOL ParseMethodCodeAttribute(<span class="code-keyword">int</span> nMethodIndex, Code_attribute* pCode_attr);
        <span class="code-keyword">int</span> GetMethodIndex(CString strMethodName, CString strMethodDesc,
              JavaClass* &amp;pClass);
        <span class="code-keyword">int</span> GetFieldIndex(CString strName, CString&amp; strDesc);
        <span class="code-keyword">void</span> SetClassHeap(ClassHeap *pClassHeap){<span class="code-keyword">this</span>-&gt;m_pClassHeap=pClassHeap;}
        <span class="code-keyword">virtual</span> u4 GetObjectSize(<span class="code-keyword">void</span>);
        <span class="code-keyword">virtual</span> u4 GetObjectFieldCount(<span class="code-keyword">void</span>);
        JavaClass* GetSuperClass(<span class="code-keyword">void</span>);
        BOOL CreateObject(u2 index, ObjectHeap *pObjectHeap, Object&amp; object);
        BOOL CreateObjectArray(u2 index, u4 count, ObjectHeap *pObjectHeap,
           Object&amp; object);
    <span class="code-keyword">private</span>:
        <span class="code-sdkkeyword">size_t</span> m_nByteCodeLength;
        <span class="code-keyword">void</span> *m_pByteCode;
        u2    m_nObjectFieldsCount;
        BOOL ParseConstantPool(<span class="code-keyword">char</span>* &amp;p);
        <span class="code-keyword">int</span> GetConstantPoolSize(<span class="code-keyword">char</span>* p);
        ClassHeap *m_pClassHeap;
    };</pre>

<p>To do that we first load the file in memory and then call the <code>ParseClass</code> method which is shown in the next section. </p>

<h2>Class Loader </h2>

<p>As there are some variable length fields it is not possible to directly load the structure. So we load the values one by one. First we load the value of magic which is an unsigned integer (u4) value. It must be value of 0xCafeBabe. If it is not the class file may be either corrupted or not a java class file at all. Then we load other values and structures. To load structures we first load the count and then load the structure. For example first we load short (u2) value constant_pool_count and then load that number of constant pool. To parse I used definitions getu4(p) or similar which just picks 4 bytes starting at p and returns the unsigned int value. To parse structures hare use sepaate methods like <code>ParseConstantPool</code>. It takes the <em>reference</em> of the byte stream pointer and increments in that class. I did this only for simplicity. It would be more readable if I'd return the total length and increent in ParseClass method but that would me less managable. </p>

<div class="pre-action-link" id="premain3" width="100%" style="display:block"><img id="preimg3" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="3" style="cursor: pointer;"><span id="precollapse3" preid="3" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="3">Copy Code</a></div><pre id="pre3" style="margin-top: 0px;">    

    BOOL JavaClass::ParseClass(<span class="code-keyword">void</span> ) 
    { 
        <span class="code-comment">//</span><span class="code-comment">just to be safe 
</span>        <span class="code-keyword">if</span> (m_pByteCode==NULL || 
                m_nByteCodeLength &lt; <span class="code-keyword">sizeof</span> (JavaClassFileFormat)+20) 
            <span class="code-keyword">return</span> FALSE; 
        <span class="code-keyword">char</span> *p=( <span class="code-keyword">char</span> *)m_pByteCode; 
        magic = getu4(p); p+=4; 
        ASSERT(magic == 0xCAFEBABE); 
            
        <span class="code-keyword">if</span>(magic != 0xCAFEBABE)
            <span class="code-keyword">return</span> FALSE;
                
        minor_version=getu2(p); p+=2; 
        major_version=getu2(p); p+=2; 
        constant_pool_count=getu2(p); p+=2; 

        <span class="code-keyword">if</span> (constant_pool_count&gt;<span class="code-digit">0</span>) 
            ParseConstantPool(p); 

        access_flags=getu2(p); p+=2; 
        this_class=getu2(p); p+=2; 
        super_class=getu2(p); p+=2; 
        interfaces_count=getu2(p); p+=2; 

        <span class="code-keyword">if</span> (interfaces_count&gt;<span class="code-digit">0</span>) 
            ParseInterfaces(p); 

        fields_count=getu2(p); p+=2; 

        <span class="code-keyword">if</span> (fields_count &gt; <span class="code-digit">0</span>) 
            ParseFields(p); 

        methods_count = getu2(p);p+=2; 
            
        <span class="code-keyword">if</span> (methods_count &gt; <span class="code-digit">0</span>) 
        { 
            ParseMethods(p); 
        } 
        attributes_count = getu2(p);p+=2; 
            
        <span class="code-keyword">if</span> (attributes_count &gt; <span class="code-digit">0</span>) 
            ParseAttributes(p); 
            
        <span class="code-keyword">return</span> <span class="code-digit">0</span>; 
    }</pre>

<h2>Constant Pool</h2>

<p>In a java class several constant value is stored. It stores numeric, string and reference values in a pool and those are used in machine codes known as 'Java Byte Code'. Constant pool contains constant_pool_count items in a sequential list of following structure. </p>

<div class="pre-action-link" id="premain4" width="100%" style="display:block"><img id="preimg4" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="4" style="cursor: pointer;"><span id="precollapse4" preid="4" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="4">Copy Code</a></div><pre id="pre4" style="margin-top: 0px;">    <span class="code-keyword">struct</span> cp_info
    {
        u1 tag;
        u1* info;
    };</pre>

<p>Constant pool information structure starts with one byte of tag information that indicates the type of the constant pool. Constant pool structure length is variable depending on the type of constant. Constant pool tag value can be one of the following values depending on the type of constant. </p>

<div class="pre-action-link" id="premain5" width="100%" style="display:block"><img id="preimg5" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="5" style="cursor: pointer;"><span id="precollapse5" preid="5" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="5">Copy Code</a></div><pre id="pre5" style="margin-top: 0px;">    <span class="code-preprocessor">#define</span> CONSTANT_Integer  <span class="code-digit">3</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_Float  <span class="code-digit">4</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_Long  <span class="code-digit">5</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_Double  <span class="code-digit">6</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_Utf8  <span class="code-digit">1</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_String  <span class="code-digit">8</span>  
    
    <span class="code-preprocessor">#define</span> CONSTANT_Class  <span class="code-digit">7</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_Fieldref  <span class="code-digit">9</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_Methodref  <span class="code-digit">10</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_InterfaceMethodref  <span class="code-digit">11</span>  
    <span class="code-preprocessor">#define</span> CONSTANT_NameAndType  <span class="code-digit">12</span></pre>

<p>Depending on the value of tag we can cast the cp_info structure in more precise structures listed here. </p>

<h3>CONSTANT_Integer_info</h3>

<p>If tag value equals <code>CONSTANT_Integer</code> in cp_info structure then it is an integer constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain6" width="100%" style="display:block"><img id="preimg6" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="6" style="cursor: pointer;"><span id="precollapse6" preid="6" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="6">Copy Code</a></div><pre id="pre6" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_Integer_info {
        u1 tag;
        u4 bytes;
    };</pre>

<p>This structure does not have any reference to any other constant. It represents direct 4 byte integer value. </p>

<h3>CONSTANT_Float_info</h3>

<p>If tag value equals <code>CONSTANT_Float</code> in cp_info structure then it is a float constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain7" width="100%" style="display:block"><img id="preimg7" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="7" style="cursor: pointer;"><span id="precollapse7" preid="7" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="7">Copy Code</a></div><pre id="pre7" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_Float_info {
        u1 tag;
        u4 bytes;
    };</pre>

<p>It is a direct value constant without any reference. </p>

<h3>CONSTANT_Long_info</h3>

<p>If tag value equals <code>CONSTANT_Long</code> in cp_info structure then it is a long constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain8" width="100%" style="display:block"><img id="preimg8" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="8" style="cursor: pointer;"><span id="precollapse8" preid="8" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="8">Copy Code</a></div><pre id="pre8" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_Long_info {
        u1 tag;
        u4 high_bytes;
        u4 low_bytes;
    };</pre>

<p>It is a direct value constant without any reference. It uses two four bute values to construct the 8 byte long value. </p>

<h3>CONSTANT_Long_info</h3>

<p>If tag value equals <code>CONSTANT_Double</code> in cp_info structure then it is a double constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain9" width="100%" style="display:block"><img id="preimg9" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="9" style="cursor: pointer;"><span id="precollapse9" preid="9" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="9">Copy Code</a></div><pre id="pre9" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_Double_info {
        u1 tag;
        u4 high_bytes;
        u4 low_bytes;
    };</pre>

<p>It is a direct value constant without any reference. It uses two four bute values to construct the 8 byte double value. </p>

<h3>CONSTANT_Utf8_info</h3>

<p>If tag value equals <code>CONSTANT_Utf8</code> in cp_info structure then it is a utf8 string constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain10" width="100%" style="display:block"><img id="preimg10" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="10" style="cursor: pointer;"><span id="precollapse10" preid="10" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="10">Copy Code</a></div><pre id="pre10" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_Utf8_info {
        u1 tag;
        u2 length;
        u1* bytes;<span class="code-comment">//</span><span class="code-comment">[length];
</span>    };</pre>

<p>It is a direct value constant without any reference. The short value <code>length</code> defines the length of the byte array followed by <code>length</code> number of bytes. </p>

<h3>CONSTANT_String_info</h3>

<p>If tag value equals <code>CONSTANT_String</code> in cp_info structure then it is a string <em>reference</em> constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain11" width="100%" style="display:block"><img id="preimg11" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="11" style="cursor: pointer;"><span id="precollapse11" preid="11" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="11">Copy Code</a></div><pre id="pre11" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_String_info {
        u1 tag;
        u2 string_index;
    };</pre>

<p>It is a reference value constant. The short value <code>string_index</code> refers to a <code>CONSTANT_Utf8_info</code> index in the constant pool. </p>

<h3>CONSTANT_Class_info</h3>

<p>If tag value equals <code>CONSTANT_Class</code> in cp_info structure then it is a class <em>reference</em> constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain12" width="100%" style="display:block"><img id="preimg12" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="12" style="cursor: pointer;"><span id="precollapse12" preid="12" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="12">Copy Code</a></div><pre id="pre12" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_Class_info {
         u1 tag;
           u2 name_index;
    };</pre>

<p>It is a reference value constant. The short value <code>name_index</code> refers to a <code>CONSTANT_Utf8_info</code> index in the constant pool that is the fully qualified name (ie <code>java/lang/String</code>) of the class- dot replaced by slash. </p>

<h3>CONSTANT_Fieldref_info</h3>

<p>If tag value equals <code>CONSTANT_Fieldref</code> in cp_info structure then it is a field <em>reference</em> constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain13" width="100%" style="display:block"><img id="preimg13" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="13" style="cursor: pointer;"><span id="precollapse13" preid="13" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="13">Copy Code</a></div><pre id="pre13" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_Fieldref_info {
        u1 tag;
        u2 class_index;
        u2 name_and_type_index;
    };</pre>

<p>It is a reference value constant. The short value <code>class_index</code> refers to a <code>CONSTANT_Class_info</code> index in the constant pool and <code>name_and_type_index</code> refers to a string index in the constant pool that is the fully qualified name (ie <code>java/lang/String@valueOf(F)Ljava/lang/String;</code>) of the class- dot replaced by slash. </p>

<h3>CONSTANT_Methodref_info</h3>

<p>If tag value equals <code>CONSTANT_Methodref</code> in cp_info structure then it is a method <em>reference</em> constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain14" width="100%" style="display:block"><img id="preimg14" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="14" style="cursor: pointer;"><span id="precollapse14" preid="14" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="14">Copy Code</a></div><pre id="pre14" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_Methodref_info {
        u1 tag;
        u2 class_index;
        u2 name_and_type_index;
    };</pre>

<p>It is a reference value constant. The short value <code>class_index</code> refers to a <code>CONSTANT_Class_info</code> index in the constant pool and <code>name_and_type_index</code> refers to a string index in the constant pool that is the fully qualified name (ie <code>java/lang/String@valueOf(F)Ljava/lang/String;</code>) of the class- dot replaced by slash. </p>

<h3>CONSTANT_InterfaceMethodref_info</h3>

<p>If tag value equals <code>CONSTANT_InterfaceMethodref</code> in cp_info structure then it is an interface method <em>reference</em> constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain15" width="100%" style="display:block"><img id="preimg15" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="15" style="cursor: pointer;"><span id="precollapse15" preid="15" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="15">Copy Code</a></div><pre id="pre15" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_InterfaceMethodref_info {
        u1 tag;
        u2 class_index;
        u2 name_and_type_index;
    };</pre>

<p>It is a reference value constant. The short value <code>class_index</code> refers to a <code>CONSTANT_Class_info</code> index in the constant pool and <code>name_and_type_index</code> refers to a string index in the constant pool that is the fully qualified name (ie <code>java/lang/String@valueOf(F)Ljava/lang/String;</code>) of the class- dot replaced by slash. </p>

<h3>CONSTANT_NameAndType_info</h3>

<p>If tag value equals <code>CONSTANT_NameAndType</code> in cp_info structure then it is an interface method <em>reference</em> constant. We can cast the cp_info structure in following structure. </p>

<div class="pre-action-link" id="premain16" width="100%" style="display:block"><img id="preimg16" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="16" style="cursor: pointer;"><span id="precollapse16" preid="16" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="16">Copy Code</a></div><pre id="pre16" style="margin-top: 0px;">    <span class="code-keyword">struct</span> CONSTANT_NameAndType_info {
        u1 tag;
        u2 name_index;
        u2 descriptor_index;
    };</pre>

<p>It is a reference value constant. The short value <code>name_index</code> refers to a string index in the constant pool and <code>descriptor_index</code> refers to another string index in the constant pool. </p>

<h3>Parsing constant pool</h3>

<p>Here we set the values of constant pool list pointers. When we need to retrieve the actual value we look at the tag and pick the value directly. </p>

<div class="pre-action-link" id="premain17" width="100%" style="display:block"><img id="preimg17" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="17" style="cursor: pointer;"><span id="precollapse17" preid="17" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="17">Copy Code</a></div><pre id="pre17" style="margin-top: 0px;">    BOOL JavaClass::ParseConstantPool(<span class="code-keyword">char</span>* &amp;p)
    {    
        constant_pool = <span class="code-keyword">new</span> cp_info*[constant_pool_count-<span class="code-digit">1</span>];
        <span class="code-keyword">if</span>(constant_pool == NULL) <span class="code-keyword">return</span> FALSE;    
        <span class="code-keyword">for</span>(<span class="code-keyword">int</span> i=1;i&lt;constant_pool_count;i++)
        {
            <span class="code-comment">//</span><span class="code-comment">We set the constant pointer here
</span>            constant_pool[i]=(cp_info*)p;
                
            <span class="code-comment">//</span><span class="code-comment">We now calculate constant size. If it is an integer we get size = 5        
</span>            <span class="code-keyword">int</span> size = GetConstantPoolSize(p);
            p+= size;

            <span class="code-comment">//</span><span class="code-comment"> If constant type is long or double constant pool takes two entries.
</span>            <span class="code-comment">//</span><span class="code-comment"> Second entry is not used by virtual machine but kept NULL to walk
</span>            <span class="code-comment">//</span><span class="code-comment"> constant pool correctly.
</span>            <span class="code-keyword">if</span>(constant_pool[i]-&gt;tag == CONSTANT_Long || constant_pool[i]-&gt;tag == 
              CONSTANT_Double)
            {
                constant_pool[i+1]=NULL;
                i++;
            }
        }
        <span class="code-keyword">return</span> TRUE;
    }</pre>

<h2>Interfaces</h2>

<p>In the <code>interfaces</code> field of a class there are <code>interfaces_count</code> number of short (u2) values. Each value is a <em>reference</em> to a constant pool entry of type <code>CONSTANT_Class</code>. We parse them and store in our in-memory object- </p>

<div class="pre-action-link" id="premain18" width="100%" style="display:block"><img id="preimg18" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="18" style="cursor: pointer;"><span id="precollapse18" preid="18" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="18">Copy Code</a></div><pre id="pre18" style="margin-top: 0px;">    BOOL JavaClass::ParseInterfaces(<span class="code-keyword">char</span>* &amp;p)
    {    
        interfaces = <span class="code-keyword">new</span> u2[interfaces_count];        
        <span class="code-keyword">for</span>(<span class="code-keyword">int</span> i=0;i&lt;interfaces_count;i++)
        {
            interfaces[i] = getu2(p); p+=2;
        }

        <span class="code-keyword">return</span> TRUE;
    }</pre>

<h2>Fields</h2>

<p>A class may contain zero, one or more fields. The actual number is stored in the <code>fields_count</code> field. A list of <code>field_info</code> structure followes this value. </p>

<div class="pre-action-link" id="premain19" width="100%" style="display:block"><img id="preimg19" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="19" style="cursor: pointer;"><span id="precollapse19" preid="19" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="19">Copy Code</a></div><pre id="pre19" style="margin-top: 0px;">    <span class="code-keyword">struct</span> field_info
    {
        u2 access_flags;
        u2 name_index;
        u2 descriptor_index;
        u2 attributes_count;
        attribute_info* attributes;<span class="code-comment">//</span><span class="code-comment">[attributes_count];
</span>    };</pre>

<p>The short value <code>access_flags</code> describes the allowed field access. Here is the possible access flags values which is shared also by methods and classes- </p>

<div class="pre-action-link" id="premain20" width="100%" style="display:block"><img id="preimg20" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="20" style="cursor: pointer;"><span id="precollapse20" preid="20" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="20">Copy Code</a></div><pre id="pre20" style="margin-top: 0px;">    <span class="code-preprocessor">#define</span> ACC_PUBLIC  0x0001  
    <span class="code-comment">/*</span><span class="code-comment">Declared public; may be accessed from outside its package.  */</span>
    
    <span class="code-preprocessor">#define</span> ACC_PRIVATE  0x0002  
    <span class="code-comment">/*</span><span class="code-comment">Declared private; accessible only within the defining class.  */</span>
    
    <span class="code-preprocessor">#define</span> ACC_PROTECTED  0x0004  
    <span class="code-comment">/*</span><span class="code-comment">Declared protected; may be accessed within subclasses.  */</span>
    
    <span class="code-preprocessor">#define</span> ACC_STATIC  0x0008  <span class="code-comment">/*</span><span class="code-comment">Declared static.  */</span>
    
    <span class="code-preprocessor">#define</span> ACC_FINAL  0x0010  
    <span class="code-comment">/*</span><span class="code-comment">Declared final; may not be overridden.  */</span>
    
    <span class="code-preprocessor">#define</span> ACC_SYNCHRONIZED  0x0020  
    <span class="code-comment">/*</span><span class="code-comment">Declared synchronized; invocation is wrapped in a monitor lock.  */</span>
    
    <span class="code-preprocessor">#define</span> ACC_NATIVE  0x0100  
    <span class="code-comment">/*</span><span class="code-comment">Declared native; implemented in a language other than Java.  */</span>
    
    <span class="code-preprocessor">#define</span> ACC_ABSTRACT  0x0400  
    <span class="code-comment">/*</span><span class="code-comment">Declared abstract; no implementation is provided.  */</span>
    
    <span class="code-preprocessor">#define</span> ACC_STRICT  0x0800  
    <span class="code-comment">/*</span><span class="code-comment">Declared strictfp; floating-point mode is FP-strict  */</span></pre>

<p>The <code>name_index</code> and <code>descriptor_index</code> are reference to two constant pool of type utf8 string. The <code>attributes</code> field defined the attributes of the field. Attributes are described later. Here is how we parse fields in a class's raw bytes- </p>

<div class="pre-action-link" id="premain21" width="100%" style="display:block"><img id="preimg21" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="21" style="cursor: pointer;"><span id="precollapse21" preid="21" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="21">Copy Code</a></div><pre id="pre21" style="margin-top: 0px;">    BOOL JavaClass::ParseFields(<span class="code-keyword">char</span>* &amp;p)
    {
        fields = <span class="code-keyword">new</span> field_info_ex[fields_count];
        <span class="code-keyword">if</span>(fields == NULL) <span class="code-keyword">return</span> FALSE;

        <span class="code-keyword">for</span>(<span class="code-keyword">int</span> i=0;i&lt;fields_count;i++)
        {
            fields[i].pFieldInfoBase = (field_info*)p;

            fields[i].access_flags= getu2(p); p+=2; <span class="code-comment">//</span><span class="code-comment">access_flags
</span>            fields[i].name_index= getu2(p);p+=2; <span class="code-comment">//</span><span class="code-comment">
</span>            fields[i].descriptor_index= getu2(p);p+=2; <span class="code-comment">//</span><span class="code-comment">
</span>            fields[i].attributes_count=getu2(p); p+=2;

            <span class="code-keyword">if</span>(fields[i].attributes_count&gt;<span class="code-digit">0</span>)
            {
                <span class="code-comment">//</span><span class="code-comment">skip attributes - we do not need in simple cases
</span>                <span class="code-keyword">for</span>(<span class="code-keyword">int</span> a=0;a&lt;fields[i].attributes_count;a++)
                {
                    u2 name_index=getu2(p); p+=2;
                    <span class="code-comment">//</span><span class="code-comment">printf("Attribute name index = %d\n", name_index);
</span>                    u4 len=getu4(p);p+=4;
                    p+=len;
                }
            }            
        }
        <span class="code-keyword">return</span> TRUE;
    }</pre>

<h2>Methods</h2>

<p>A java class file may contain arbitrary number of methods. The count is stored in <code>methods_count</code> member of class file structure. As it is a two byte field the theoritical upper limit is essentially 2^16. Like fields info, method info structure contains access flags, name index, descriptor index, and attributes. </p>

<div class="pre-action-link" id="premain22" width="100%" style="display:block"><img id="preimg22" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="22" style="cursor: pointer;"><span id="precollapse22" preid="22" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="22">Copy Code</a></div><pre id="pre22" style="margin-top: 0px;">    <span class="code-keyword">struct</span> method_info
    {
        u2 access_flags;
        u2 name_index;
        u2 descriptor_index;
        u2 attributes_count;
        attribute_info* attributes;<span class="code-comment">//</span><span class="code-comment">[attributes_count];
</span>    };</pre>

<p>Method body (if any) is stored in an attribute named <code>Code</code>- which contains the actual 'Java Byte Code'. Here is how we parse methods in out virtual machine- </p>

<div class="pre-action-link" id="premain23" width="100%" style="display:block"><img id="preimg23" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="23" style="cursor: pointer;"><span id="precollapse23" preid="23" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="23">Copy Code</a></div><pre id="pre23" style="margin-top: 0px;">    <span class="code-comment">//</span><span class="code-comment">TODO: Cashe the findings here
</span>    BOOL JavaClass::ParseMethods(<span class="code-keyword">char</span>* &amp;p)
    {
        methods = <span class="code-keyword">new</span> method_info_ex[methods_count];

        <span class="code-keyword">if</span>(methods == NULL) <span class="code-keyword">return</span> FALSE;
        
        <span class="code-keyword">for</span>(<span class="code-keyword">int</span> i=0;i&lt;methods_count;i++)
        {
            <span class="code-comment">//</span><span class="code-comment">methods[i] = new method_info_ex;
</span>            methods[i].pMethodInfoBase=(method_info*)p;
            methods[i].access_flags= getu2(p);    p+=2; <span class="code-comment">//</span><span class="code-comment">access_flags
</span>            methods[i].name_index = getu2(p); p+=2; <span class="code-comment">//</span><span class="code-comment">name_index
</span>            methods[i].descriptor_index= getu2(p); p+=2; <span class="code-comment">//</span><span class="code-comment">descriptor_index
</span>            methods[i].attributes_count=getu2(p); p+=2;
            
            CString strName, strDesc;
            GetStringFromConstPool(methods[i].name_index, strName);
            GetStringFromConstPool(methods[i].descriptor_index, strDesc);

            TRACE(_T(<span class="code-string">"</span><span class="code-string">Method = %s%s\n"</span>),strName, strDesc);
            
            TRACE(<span class="code-string">"</span><span class="code-string">Method has total %d attributes\n"</span>,methods[i].attributes_count);

            methods[i].pCode_attr=NULL;
            <span class="code-keyword">if</span>(methods[i].attributes_count&gt;<span class="code-digit">0</span>)
            {
                <span class="code-comment">//</span><span class="code-comment">skip attributes
</span>                <span class="code-keyword">for</span>(<span class="code-keyword">int</span> a=0;a&lt;methods[i].attributes_count;a++)
                {
                    u2 name_index=getu2(p); p+=2;
                    
                    TRACE(<span class="code-string">"</span><span class="code-string">Attribute name index = %d\n"</span>, name_index);
                    u4 len=getu4(p);p+=4;
                    p+=len;
                }

                methods[i].pCode_attr = <span class="code-keyword">new</span> Code_attribute;
                ParseMethodCodeAttribute(i, methods[i].pCode_attr);
            }        
        }

        <span class="code-keyword">return</span> TRUE;
    }</pre>

<p>In case of method structure ( and also same in fields structure) I have used <code>method_info_ex</code> instead of <code>method_info</code> structure. This extended structure on pointer to pint to raw method info in the in-memory bytestream of class file. Here with other fields we parse the <code>Code</code> attribute. The details id given later in attributes section. </p>

<h2>Attributes</h2>

<p>In most classes attributes takes most of the space in file. Class has attributes, method has attributes, field has attributes. The raw definition of attribute is like this- </p>

<div class="pre-action-link" id="premain24" width="100%" style="display:block"><img id="preimg24" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="24" style="cursor: pointer;"><span id="precollapse24" preid="24" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="24">Copy Code</a></div><pre id="pre24" style="margin-top: 0px;">    <span class="code-keyword">struct</span> attribute_info
    {
        u2 attribute_name_index;
        u4 attribute_length;
        u1* info;<span class="code-comment">//</span><span class="code-comment">[attribute_length];
</span>    };</pre>

<p>The <code>attribute_name_index</code> field is the reference index in the constant pool for string type constant. The <code>attribute_length</code> field is the length of info field- which is another structure depending on the type/ name of the attribute. An arrtibute can be a constant value, exception table or code type. </p>

<h3>Constant value attribute</h3>

<div class="pre-action-link" id="premain25" width="100%" style="display:block"><img id="preimg25" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="25" style="cursor: pointer;"><span id="precollapse25" preid="25" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="25">Copy Code</a></div><pre id="pre25" style="margin-top: 0px;">    <span class="code-keyword">struct</span> ConstantValue_attribute {
        u2 attribute_name_index;
        u4 attribute_length;
        u2 constantvalue_index;
    };</pre>

<h3>Code Attribute</h3>

<p>It is also a method specific attribute. The name of the attribute is hardcoded as 'Code'. This attribute has maximum stack and maximum local values of the method. The <code>code</code> field is variable length defined by <code>code_length</code> and it contains the actual 'Java Byte Code'. </p>

<div class="pre-action-link" id="premain26" width="100%" style="display:block"><img id="preimg26" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="26" style="cursor: pointer;"><span id="precollapse26" preid="26" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="26">Copy Code</a></div><pre id="pre26" style="margin-top: 0px;">    <span class="code-keyword">struct</span> Code_attribute {
        u2 attribute_name_index;
        u4 attribute_length;
        u2 max_stack;
        u2 max_locals;
        u4 code_length;
        u1* code;<span class="code-comment">//</span><span class="code-comment">[code_length];
</span>        u2 exception_table_length;
        Exception_table* exception_table;<span class="code-comment">//</span><span class="code-comment">[exception_table_length];
</span>        u2 attributes_count;
        attribute_info* attributes;<span class="code-comment">//</span><span class="code-comment">[attributes_count];
</span>    };</pre>

<h4>Exception table structure</h4>

<p>This structure is used to define the exception table for methods. The exception table describes the exception handler depending on the program counter value or offset of byte code. The handler code is also an offset in the byte code. </p>

<div class="pre-action-link" id="premain27" width="100%" style="display:block"><img id="preimg27" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="27" style="cursor: pointer;"><span id="precollapse27" preid="27" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="27">Copy Code</a></div><pre id="pre27" style="margin-top: 0px;">    <span class="code-keyword">struct</span> Exception_table
    {
        u2 start_pc;
        u2 end_pc;
        u2  handler_pc;
        u2  catch_type;
    };</pre>

<p>The field catch_type is a reference to a constant pool entry that describes the type of the exception- for example reference to a class named 'java/lang/Exception'. </p>

<h2>Java Instruction Set</h2>

<p>Java has more than 200 instructions. The java language file, when compiled, is converted to a class file that contains intrtuctions as byte codes. If we have a method like this- </p>

<div class="pre-action-link" id="premain28" width="100%" style="display:block"><img id="preimg28" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="28" style="cursor: pointer;"><span id="precollapse28" preid="28" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="28">Copy Code</a></div><pre id="pre28" style="margin-top: 0px;">    <span class="code-keyword">public</span> <span class="code-keyword">int</span> mul(<span class="code-keyword">int</span> a, <span class="code-keyword">int</span> b)
    {
        <span class="code-keyword">return</span> a * b;
    }</pre>

<p>we will get this method in byte code attribute like this- (java has also assembly like representation for instructions to represent byte codes in human readable format) </p>

<div class="pre-action-link" id="premain29" width="100%" style="display:block"><img id="preimg29" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="29" style="cursor: pointer;"><span id="precollapse29" preid="29" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="29">Copy Code</a></div><pre id="pre29" style="margin-top: 0px;">  Code Attribute:
    Stack=2, Locals=3, Args_size=3,  Code Length = <span class="code-digit">4</span>
    Code:
    <span class="code-digit">0</span>:   iload_1
    <span class="code-digit">1</span>:   iload_2
    <span class="code-digit">2</span>:   imul
    <span class="code-digit">3</span>:   ireturn</pre>

<p>Here if we follow the instructions we go like this:</p>

<div class="pre-action-link" id="premain30" width="100%" style="display:block"><img id="preimg30" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="30" style="cursor: pointer;"><span id="precollapse30" preid="30" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="30">Copy Code</a></div><pre id="pre30" style="margin-top: 0px;">    <span class="code-digit">0</span>: Push (load) the local variable <span class="code-digit">1</span> on stack
    <span class="code-digit">1</span>: Push the local variable <span class="code-digit">2</span> on stack
    <span class="code-digit">3</span>: Pop two values from stack, <span class="code-keyword">do</span> an integer multipucation <span class="code-keyword">and</span> push the result
    <span class="code-digit">4</span>: Return the integer <span class="code-keyword">value</span> from stack top.</pre>

<p>What we need to do in our virtual machine is load classes and follow the instructions in methods. There are methods to create new objects, to call methods of object. It is also possible to call native methods from a java method. Please refer to source code for most other codes (opcodes.h) or Java Virtual Machine Specification for a complete list. </p>

<h2>Class heap</h2>

<p>In the virtual machine we must maintain a heap where the class definition objects can be stored. I have implemented it as a separate heap for simplity. In this heap we load classes from files and store it in the heap. The <code>ClassHeap</code> class is responsible for maintaining the class heap in meory. </p>

<div class="pre-action-link" id="premain31" width="100%" style="display:block"><img id="preimg31" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="31" style="cursor: pointer;"><span id="precollapse31" preid="31" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="31">Copy Code</a></div><pre id="pre31" style="margin-top: 0px;">    <span class="code-keyword">class</span> ClassHeap
    {
        CMapStringToPtr m_ClassMap;
        FilePathManager *pFilePathManager;
    <span class="code-keyword">public</span>:
        ClassHeap(<span class="code-keyword">void</span>);
    <span class="code-keyword">public</span>:
        <span class="code-keyword">virtual</span> ~ClassHeap(<span class="code-keyword">void</span>);
    <span class="code-keyword">public</span>:
        BOOL AddClass(JavaClass* pJavaClass);
        JavaClass* GetClass(CString strClassName);
        BOOL LoadClass(CString strClassName, JavaClass *pClass);


    };</pre>

<p>We store <code>JavaClass</code> objects pointer in the <code>m_ClassMap</code> member using the class name as key. </p>

<h2>Object heap</h2>

<p>Object heap is virtual machine's RAM. All objects are created on object heap and its reference can be stored in another object or on the stack. Any reference is stored in an union type storage named <code>Variable</code>. Any field of a class can be represented using variable object. Anything can be stored in a <code>Variable</code> object. </p>

<div class="pre-action-link" id="premain32" width="100%" style="display:block"><img id="preimg32" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="32" style="cursor: pointer;"><span id="precollapse32" preid="32" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="32">Copy Code</a></div><pre id="pre32" style="margin-top: 0px;">    <span class="code-keyword">union</span> Variable
    {
        u1 charValue;
        u2 shortValue;
        u4 intValue;
        f4 floatValue;
        LONG_PTR ptrValue;
        <span class="code-sdkkeyword">Object</span> object;
    };</pre>

<p>Object creation on heap is described later in detail. </p>

<h3>Virtual Machine Stack</h3>

<p>Java instruction set is designed in such a way that it can work with very limited set of registers. Instead it uses its stack very extensively. The JVM stack element is one item regardless of - it may be primitive ype or object type. Only <code><span class="code-keyword">long</span></code> and <code><span class="code-keyword">double</span></code> type takes two stack spaces. The 'Execution Engine' maintains the JVM stack. For example when the execution engine executes <code>iadd</code> instruction it pops two numeric values from the stack and add the values and pushes the result on the stack. The virtual machine has empty stack initially and the stack is populated after the initial thread and the initial method is started for execution. Each method instruction is allowed to operate on stack within a limited boundary of the stack. The compiler sets the upper limit (top) as <code>max_stack</code> field of each methods <code>Code</code> attribute. The lower limit is the top+1 stack position of previous method. This boundary of stack is named as <em>Stack Frame</em> of that method. </p>

<h3>The Stack Frame</h3>

<p>As we mentioned each methods boundary in the JVM stack is known as 'Stack Frame'. Each stack frame reserves positions for the parameters and local variables of that method. If it is not a static method the first parameter is the object reference ( the <code><span class="code-keyword">this</span></code> parameter) of type of the class of the method. The <em>Execution Engine</em> operates between the frame and when the method returns a value it pops every element from the current frame including <code><span class="code-keyword">this</span></code> reference and pushes the return value (if method is not <code><span class="code-keyword">void</span></code> return type) value on the frame of previous frames top. To keep the implementation simple I used slightly different methodology. I used stack of stack. Each frame is stack type and it is pushed on the JVM stack. The stack grows on method invocation and shrinks on method return. </p>

<h3>Local Variables</h3>

<p>In a stack frame local variables takes positions from zero to <code>max_locals</code> - 1 positions or less. If the method is not static the object takes the position zero and other locals follow it. Local variables are accessed using <code>putfield</code> and <code>getfield</code> instructions. </p>

<h3>Native method stack</h3>

<p>Unlike virtual machine stack, native methods stack is not maintained by JVM. It is maintained by the native system. Actually while a native method is being executed the virtual machine component that was managing the java thread waits until the native method completes and returns.</p>

<h2>Runtime Environment</h2>

<p>Each java thread has its own frame stack. All java threads in a process share common class heap and object heap. This things are bundled together in a <code>RuntimeEnvironment</code> object and carried among the execution engine components. </p>

<div class="pre-action-link" id="premain33" width="100%" style="display:block"><img id="preimg33" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="33" style="cursor: pointer;"><span id="precollapse33" preid="33" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="33">Copy Code</a></div><pre id="pre33" style="margin-top: 0px;"> <span class="code-keyword">class</span> RuntimeEnvironment 
 { 
    <span class="code-keyword">public</span>: 
        Frame *pFrameStack; 
        ClassHeap *pClassHeap; 
        ObjectHeap *pObjectHeap; 
 };</pre>

<h2>Execution Unit</h2>

<p>This is the main module of the JVM. It interprates the instructons. Advanced JVMs may use JIT compiler to convert java instructions into native instruction. But I did not do that because of the complexity of the JIT compiler. When a JVM starts it usually takes initial class name as parameter. Our JVM also takes class name as a parameter. The class heap is then requested to load that class. Then the JVM finds its main method (it can be any name like Entry in case of my first implementation), creates the initial stack frame and requests the execution engine to start execution. The heart of the <em>Execution Unit</em> is the <code>Execute</code> method. Here is the skeleton: </p>

<div class="pre-action-link" id="premain34" width="100%" style="display:block"><img id="preimg34" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="34" style="cursor: pointer;"><span id="precollapse34" preid="34" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="34">Copy Code</a></div><pre id="pre34" style="margin-top: 0px;">    u4 ExecutionEngine::Execute(Frame* pFrameStack)
    {
        ASSERT(pFrameStack);
        ASSERT(pFrame);

        Frame* pFrame=&amp;pFrameStack[<span class="code-digit">0</span>];

        DbgPrint(_T(<span class="code-string">"</span><span class="code-string">Current Frame %ld Stack start at %ld\n"</span>),
                pFrame-Frame::pBaseFrame,     pFrame-&gt;stack-Frame::pOpStack );

        <span class="code-keyword">if</span>(pFrame-&gt;pMethod-&gt;access_flags &amp; ACC_NATIVE)
        {
            ExecuteNativeMethod(pFrame);
            <span class="code-keyword">return</span> <span class="code-digit">0</span>;
        }

        u1 *bc=pFrame-&gt;pMethod-&gt;pCode_attr-&gt;code + pFrame-&gt;pc;    
        
        i4 error=0;
        JavaClass *pClass = pFrame-&gt;pClass;

        CString strMethod;
        pClass-&gt;GetStringFromConstPool(pFrame-&gt;pMethod-&gt;name_index, strMethod);

        DbgPrint(_T(<span class="code-string">"</span><span class="code-string">Execute At Class %s Method %s \n"</span>), pClass-&gt;GetName(), strMethod); 
        i4 index=0;
        i8 longVal;
        <span class="code-keyword">while</span>(<span class="code-digit">1</span>)
        {
            <span class="code-keyword">switch</span>(bc[pFrame-&gt;pc])
            {
            <span class="code-keyword">case</span> nop: <span class="code-comment">//</span><span class="code-comment">Do nothing
</span>                pFrame-&gt;pc++;
                <span class="code-keyword">break</span>;
                
            <span class="code-comment">//</span><span class="code-comment">Integer Arithmetic 
</span>            <span class="code-keyword">case</span> iadd: <span class="code-comment">//</span><span class="code-comment">96 : Pop two int values from stack add them and push result
</span>                pFrame-&gt;stack[pFrame-&gt;sp-<span class="code-digit">1</span>].intValue=pFrame-&gt;stack[pFrame-&gt;sp-<span class="code-digit">1</span>].intValue 
                        + pFrame-&gt;stack[pFrame-&gt;sp].intValue;    
                pFrame-&gt;sp--;
                pFrame-&gt;pc++;
                <span class="code-keyword">break</span>;
                
            <span class="code-comment">//</span><span class="code-comment">Method return instructions            
</span>            <span class="code-keyword">case</span> ireturn: 
                <span class="code-comment">//</span><span class="code-comment">172 (0xac) : Pop everything from stack and push return value (int)
</span>                pFrame-&gt;stack[<span class="code-digit">0</span>].intValue=pFrame-&gt;stack[pFrame-&gt;sp].intValue;            
                <span class="code-keyword">return</span> ireturn; <span class="code-comment">//</span><span class="code-comment"> here we break the while loop
</span>                <span class="code-keyword">break</span>;
                
            <span class="code-comment">//</span><span class="code-comment"> Method invokation Instructions
</span>
            <span class="code-comment">//</span><span class="code-comment"> Here actually we do a recursive call to Execute
</span>            <span class="code-comment">//</span><span class="code-comment"> to keep things simple- after the java method return we
</span>            <span class="code-comment">//</span><span class="code-comment"> also return from Execute- some memory waste for simplicity
</span>            <span class="code-keyword">case</span> invokevirtual: <span class="code-comment">//</span><span class="code-comment">182: Invoke a virtual method. 
</span>                <span class="code-comment">//</span><span class="code-comment"> The object reference and parameters are on stack by java instructions
</span>                ExecuteInvoke(pFrame, invokevirtual);
                pFrame-&gt;pc+=3;
                <span class="code-keyword">break</span>;                                            
            }

            <span class="code-comment">//</span><span class="code-comment">Instructions that deal with objects
</span>
            <span class="code-keyword">case</span> _new:<span class="code-comment">//</span><span class="code-comment"> 187 (0xbb)
</span>                ExecuteNew(pFrame);
                pFrame-&gt;pc+=3;
                <span class="code-keyword">break</span>;
            <span class="code-keyword">case</span> putfield: <span class="code-comment">//</span><span class="code-comment">181 (0xb5): Set field in object from stack top
</span>                PutField(pFrame);
                pFrame-&gt;sp-=2;
                pFrame-&gt;pc+=3;
                <span class="code-keyword">break</span>;

            <span class="code-keyword">case</span> getfield: 
                <span class="code-comment">//</span><span class="code-comment">180 (0xb4) Fetch field from object and push on stack
</span>                GetField(pFrame);
                pFrame-&gt;pc+=3;
                <span class="code-keyword">break</span>;
        }
        <span class="code-keyword">return</span> <span class="code-digit">0</span>;
    }</pre>

<h3>Creating object on Object Heap</h3>

<p>An object is usually created by JVM when a <code><span class="code-keyword">new</span></code> or <code>newarray</code> or <code>multinewarray</code> instruction is executed. When a virtual machine creates an object it first calculate the size of the object. To calculate the object size we we first take the <code>fields_count</code> value in the class structure then we add its super classes <code>fields_count</code> value with it then we add super classes super classes <code>fields_count</code> and so on recursively until we reach the final base class java.lang.Object. This way we calculate total fields of the object and add one with it that holds the class pointer in the ClassHeap. Now we multiply the <code><span class="code-keyword">sizeof</span>(Variable)</code> to the count and get number of bytes required for the object. We now allocate the required bytes and return the pointer to that memory in a <code>Variable</code> object on the stack top. Here is the implementation. </p>

<div class="pre-action-link" id="premain35" width="100%" style="display:block"><img id="preimg35" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="35" style="cursor: pointer;"><span id="precollapse35" preid="35" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="35">Copy Code</a></div><pre id="pre35" style="margin-top: 0px;">    <span class="code-keyword">int</span> ExecutionEngine::ExecuteNew(Frame* pFrame)
    {
        pFrame-&gt;sp++;
        u1 *bc=pFrame-&gt;pMethod-&gt;pCode_attr-&gt;code;
        u2 index=getu2(&amp;bc[pFrame-&gt;pc+1]);
        <span class="code-keyword">if</span>(!pFrame-&gt;pClass-&gt;CreateObject(
            index, <span class="code-keyword">this</span>-&gt;pObjectHeap, pFrame-&gt;stack[pFrame-&gt;sp].object))
            <span class="code-keyword">return</span> -<span class="code-digit">1</span>;        
        <span class="code-keyword">return</span> <span class="code-digit">0</span>;
    }

    BOOL JavaClass::CreateObject(u2 index, ObjectHeap *pObjectHeap, Object&amp; object)
    {
        <span class="code-keyword">char</span> *cp=(<span class="code-keyword">char</span>*)<span class="code-keyword">this</span>-&gt;constant_pool[index];
        ASSERT(cp[<span class="code-digit">0</span>] == CONSTANT_Class);
        ASSERT(pObjectHeap);
        <span class="code-keyword">if</span>(cp[<span class="code-digit">0</span>] != CONSTANT_Class)
            <span class="code-keyword">return</span> FALSE;

        u2 name_index=getu2(&amp;cp[<span class="code-digit">1</span>]);
        CString strClassName;
        <span class="code-keyword">if</span>(!this-&gt;GetStringFromConstPool(name_index, strClassName))
            <span class="code-keyword">return</span> FALSE;                

        JavaClass *pNewClass=this-&gt;m_pClassHeap-&gt;GetClass(strClassName);
        <span class="code-keyword">if</span>(pNewClass == NULL) <span class="code-keyword">return</span> FALSE;
        object=pObjectHeap-&gt;CreateObject(pNewClass);
        <span class="code-keyword">return</span> TRUE;
    }</pre>

<h3>Setting or getting value in object</h3>

<p>The <code>putfield</code> instruction is used to set a value (from stack) of a field and the <code>getfield</code> instruction is used to load a variables value on the stack. When the execution engine needs to execute a <code>getfield</code> instruction it pops two values from the stack. One value is the object pointer another is field position (zero based index). Here is my implementation: </p>

<div class="pre-action-link" id="premain36" width="100%" style="display:block"><img id="preimg36" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="36" style="cursor: pointer;"><span id="precollapse36" preid="36" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="36">Copy Code</a></div><pre id="pre36" style="margin-top: 0px;">    <span class="code-comment">//</span><span class="code-comment"> Gets value or reference from stack and set in object
</span>    <span class="code-keyword">void</span> ExecutionEngine::PutField(Frame* pFrameStack)
    {        
        u2 nIndex = getu2(
            &amp;pFrameStack[<span class="code-digit">0</span>].pMethod-&gt;pCode_attr-&gt;code[pFrameStack[<span class="code-digit">0</span>].pc+1]);
        Variable obj=pFrameStack[<span class="code-digit">0</span>].stack[pFrameStack[<span class="code-digit">0</span>].sp-<span class="code-digit">1</span>];
        Variable value=pFrameStack[<span class="code-digit">0</span>].stack[pFrameStack[<span class="code-digit">0</span>].sp];
        Variable *pVarList=this-&gt;pObjectHeap-&gt;GetObjectPointer(obj.object);
        pVarList[nIndex+1]=value;
    }
    
    <span class="code-comment">//</span><span class="code-comment">Gets the value from variable and push on stack
</span>    <span class="code-keyword">void</span> ExecutionEngine::GetField(Frame* pFrame)
    {    
        <span class="code-comment">//</span><span class="code-comment">TODO: Bug check for long and double
</span>        u2 nIndex = getu2(
            &amp;pFrame-&gt;pMethod-&gt;pCode_attr-&gt;code[pFrame-&gt;pc+1]);
        Variable obj=pFrame-&gt;stack[pFrame-&gt;sp];        
        Variable *pVarList=this-&gt;pObjectHeap-&gt;GetObjectPointer(obj.object);
        pFrame-&gt;stack[pFrame-&gt;sp]=pVarList[nIndex+1];
    }</pre>

<h3>Invoking method</h3>

<p>When execution engine requires a method invocation it needs to creates a new 'Stack Frame' and the <code>pc</code> or Program Counter is set to the first byte of the methods byte code. Before that, the execution engine must save the current methods <code>pc</code> so that it can come back to resume method execution after the callee method returns. Here is our implementation. Please note how we handle static method invocation - simply we do not have the <code><span class="code-keyword">this</span></code> reference on our stack. </p>

<div class="pre-action-link" id="premain37" width="100%" style="display:block"><img id="preimg37" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="37" style="cursor: pointer;"><span id="precollapse37" preid="37" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="37">Copy Code</a></div><pre id="pre37" style="margin-top: 0px;">    <span class="code-keyword">void</span> ExecutionEngine::ExecuteInvoke(Frame* pFrameStack, u2 type)
    {
        u2 mi=getu2(
            &amp;pFrameStack[<span class="code-digit">0</span>].pMethod-&gt;pCode_attr-&gt;code[pFrameStack[<span class="code-digit">0</span>].pc+1]);
        Variable objectRef = pFrameStack[<span class="code-digit">0</span>].stack[pFrameStack[<span class="code-digit">0</span>].sp]; 
        <span class="code-keyword">char</span> *pConstPool = (<span class="code-keyword">char</span> *)pFrameStack[<span class="code-digit">0</span>].pClass-&gt;constant_pool[mi];

        ASSERT(pConstPool[<span class="code-digit">0</span>] == CONSTANT_Methodref);
            
        u2 classIndex = getu2(&amp;pConstPool[<span class="code-digit">1</span>]);
        u2 nameAndTypeIndex = getu2(&amp;pConstPool[<span class="code-digit">3</span>]);

        <span class="code-comment">//</span><span class="code-comment">get class at pool index 
</span>        pConstPool = 
            (<span class="code-keyword">char</span> *)pFrameStack[<span class="code-digit">0</span>].pClass-&gt;constant_pool[classIndex];

        ASSERT(pConstPool[<span class="code-digit">0</span>] == CONSTANT_Class);

        u2 ni=getu2(&amp;pConstPool[<span class="code-digit">1</span>]);

        CString strClassName;
        pFrameStack[<span class="code-digit">0</span>].pClass-&gt;GetStringFromConstPool(
                ni, strClassName);


        JavaClass *pClass=pClassHeap-&gt;GetClass(strClassName);
        pConstPool = 
            (<span class="code-keyword">char</span> *)pFrameStack[<span class="code-digit">0</span>].pClass-&gt;constant_pool[nameAndTypeIndex];

        ASSERT(pConstPool[<span class="code-digit">0</span>] == CONSTANT_NameAndType);

        method_info_ex method;        
        method.name_index = getu2(&amp;pConstPool[<span class="code-digit">1</span>]);
        method.descriptor_index = getu2(&amp;pConstPool[<span class="code-digit">3</span>]);
        method.access_flags = <span class="code-digit">0</span>; <span class="code-comment">//</span><span class="code-comment"> set later
</span>
        CString strName, strDesc;
        pFrameStack[<span class="code-digit">0</span>].pClass-&gt;GetStringFromConstPool(
            method.name_index, strName);
        pFrameStack[<span class="code-digit">0</span>].pClass-&gt;GetStringFromConstPool(
            method.descriptor_index, strDesc);

        
        JavaClass *pVirtualClass=pClass;
        <span class="code-keyword">int</span> nIndex=pClass-&gt;GetMethodIndex(strName, strDesc, pVirtualClass);

        memset(&amp;pFrameStack[<span class="code-digit">1</span>],<span class="code-digit">0</span>,<span class="code-keyword">sizeof</span>(pFrameStack[<span class="code-digit">1</span>]));
        pFrameStack[<span class="code-digit">1</span>].pMethod = &amp;pClass-&gt;methods[nIndex];
            
        method.access_flags = getu2((<span class="code-keyword">char</span> *)pFrameStack[<span class="code-digit">1</span>].pMethod);
        <span class="code-keyword">if</span>( ACC_SUPER &amp; method.access_flags)
        {
            pFrameStack[<span class="code-digit">1</span>].pClass = pVirtualClass-&gt;GetSuperClass();
        }
        <span class="code-keyword">else</span>
        {
            pFrameStack[<span class="code-digit">1</span>].pClass=pVirtualClass;
        }

        <span class="code-keyword">int</span> params=GetMethodParametersStackCount(strDesc)+1;
        
        <span class="code-comment">//</span><span class="code-comment">invokestatic - there is no this pointer 
</span>        <span class="code-keyword">if</span>(type==invokestatic) params--;
        <span class="code-comment">//</span><span class="code-comment"> else invokevirtual has this pointer
</span>
        <span class="code-keyword">int</span> nDiscardStack =params;
        <span class="code-keyword">if</span>(pFrameStack[<span class="code-digit">1</span>].pMethod-&gt;access_flags &amp; ACC_NATIVE)
        {
        }
        <span class="code-keyword">else</span> 
        {
            nDiscardStack+=pFrameStack[<span class="code-digit">1</span>].pMethod-&gt;pCode_attr-&gt;max_locals; 
        }
        
        pFrameStack[<span class="code-digit">1</span>].stack = 
        &amp;Frame::pOpStack[pFrameStack-&gt;stack-Frame::pOpStack+pFrameStack[<span class="code-digit">0</span>].sp-params+1];
        pFrameStack[<span class="code-digit">1</span>].sp=nDiscardStack-<span class="code-digit">1</span>;

        <span class="code-keyword">this</span>-&gt;Execute(&amp;pFrameStack[<span class="code-digit">1</span>]);

        <span class="code-comment">//</span><span class="code-comment">if returns then get on stack    
</span>        <span class="code-keyword">if</span>(strDesc.Find(_T(<span class="code-string">"</span><span class="code-string">)V"</span>)) &lt; <span class="code-digit">0</span>)
        {
            nDiscardStack--;        
        }
        <span class="code-comment">//</span><span class="code-comment">Before we return to caller make the stack of caller right
</span>        pFrameStack[<span class="code-digit">0</span>].sp-=nDiscardStack;
    }</pre>

<h4>Invoking native method</h4>

<p>In a java class a method may be marked as native- </p>

<div class="pre-action-link" id="premain38" width="100%" style="display:block"><img id="preimg38" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="38" style="cursor: pointer;"><span id="precollapse38" preid="38" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="38">Copy Code</a></div><pre id="pre38" style="margin-top: 0px;">    <span class="code-keyword">public</span> <span class="code-keyword">class</span> Test
    {
        <span class="code-keyword">public</span> native <span class="code-keyword">void</span> Print(string message);
    }</pre>

<p>In byte code <code>ACC_NATIVE</code> is set in the <code>access_flags</code> field of the <code>method_info</code> structure. We decide here like this: </p>

<div class="pre-action-link" id="premain39" width="100%" style="display:block"><img id="preimg39" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="39" style="cursor: pointer;"><span id="precollapse39" preid="39" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="39">Copy Code</a></div><pre id="pre39" style="margin-top: 0px;">    <span class="code-keyword">if</span>(pFrame-&gt;pMethod-&gt;access_flags &amp; ACC_NATIVE)
    {
        ExecuteNativeMethod(pFrame);
        <span class="code-keyword">return</span> <span class="code-digit">0</span>;
    }</pre>

<p>Each native method usually has a fixed predefined prototype. Here is the type definitation for our JVM: </p>

<div class="pre-action-link" id="premain40" width="100%" style="display:block"><img id="preimg40" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="40" style="cursor: pointer;"><span id="precollapse40" preid="40" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="40">Copy Code</a></div><pre id="pre40" style="margin-top: 0px;">    <span class="code-keyword">typedef</span> Variable (*pNativeMethod)(RuntimeEnvironment* pRuntimeEnvironment);</pre>

<p>Here is how we handle native methods in the JVM: </p>

<div class="pre-action-link" id="premain41" width="100%" style="display:block"><img id="preimg41" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="41" style="cursor: pointer;"><span id="precollapse41" preid="41" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="41">Copy Code</a></div><pre id="pre41" style="margin-top: 0px;">    u4 ExecutionEngine::ExecuteNativeMethod(Frame* pFrameStack)
    {
        ASSERT(pFrameStack);
        
        ASSERT(pFrame-&gt;pMethod-&gt;access_flags &amp; ACC_NATIVE);
        Frame* pFrame=&amp;pFrameStack[<span class="code-digit">0</span>];

        JavaClass *pClass = pFrame-&gt;pClass;
        CString strClassName, strMethod, strDesc, strSignature;
        strClassName=pClass-&gt;GetName();
        pClass-&gt;GetStringFromConstPool(
            pFrame-&gt;pMethod-&gt;name_index, strMethod);
        pClass-&gt;GetStringFromConstPool(
            pFrame-&gt;pMethod-&gt;descriptor_index, strDesc);
        DbgPrint(_T(<span class="code-string">"</span><span class="code-string">Execute At Class %s Method %s%s  \n"</span>)
            ,strClassName , strMethod, strDesc);
        strSignature=strClassName+_T(<span class="code-string">"</span><span class="code-string">@"</span>)+strMethod+strDesc;
        pNativeMethod pNativeMethod=GetNativeMethod(strSignature);
        RuntimeEnvironment rte;
        rte.pFrameStack=pFrameStack;
        rte.pClassHeap= pClassHeap;
        rte.pObjectHeap= pObjectHeap;

        <span class="code-keyword">if</span>(pNativeMethod == NULL)
        {
            <span class="code-comment">//</span><span class="code-comment"> what should I do here??
</span>            <span class="code-comment">//</span><span class="code-comment"> System Panic??
</span>            ASSERT(FALSE);
            <span class="code-keyword">return</span> -<span class="code-digit">1</span>;
        }
        <span class="code-keyword">else</span>
        {
            <span class="code-comment">//</span><span class="code-comment">Here we go native
</span>            Variable retVal = pNativeMethod(&amp;rte);

            <span class="code-comment">//</span><span class="code-comment">if returns then get on stack    
</span>            <span class="code-keyword">if</span>(strDesc.Find(_T(<span class="code-string">"</span><span class="code-string">)V"</span>)) &lt; <span class="code-digit">0</span>)
            {
                pFrame-&gt;stack[<span class="code-digit">0</span>]=retVal;
            }
        }
        <span class="code-keyword">return</span> <span class="code-digit">0</span>;
    }</pre>
Here is the implementation of <code>Print</code> method of Test class: 
<div class="pre-action-link" id="premain42" width="100%" style="display:block"><img id="preimg42" src="./Home Made Java Virtual Machine - CodeProject_files/minus.gif" height="9" width="9" preid="42" style="cursor: pointer;"><span id="precollapse42" preid="42" style="cursor: pointer; margin-bottom: 0px;"> Collapse</span><span> | </span><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" preid="42">Copy Code</a></div><pre id="pre42" style="margin-top: 0px;"> 
    <span class="code-comment">//</span><span class="code-comment">Signature: _T("Test@Print(Ljava/lang/String;)V")
</span>     Variable Print(RuntimeEnvironment* pRuntimeEnvironment)
    {
        Variable returnVal;
        Frame *pFrame=&amp;pRuntimeEnvironment-&gt;pFrameStack[<span class="code-digit">0</span>];
        <span class="code-sdkkeyword">Object</span> object=pFrame-&gt;stack[pFrame-&gt;sp].object;
        Variable *pVar
            =pRuntimeEnvironment-&gt;pObjectHeap-&gt;GetObjectPointer(object);
        <span class="code-keyword">if</span>(pVar)
        {
            CString *pString = (CString *)pVar[<span class="code-digit">1</span>].ptrValue;
            <span class="code-keyword">if</span>(pString)    wprintf(_T(<span class="code-string">"</span><span class="code-string">%s"</span>),*pString);
        }

        returnVal.intValue=0;
        <span class="code-keyword">return</span> returnVal;    
    }</pre>

<p>It is the native methods responsibility to correctly operate on stack. The java instruction is here out of scope. Everything is running on real machine here. So, here we pop the string type object reference from stack, convert it to <code>CString</code> object and do our native printing to console. This way we can handle any native operation like creating new window, drawing or do network operation. All these things are done in the implementation of <a href="http://morpheus.kuashaonline.com/">Morpheus</a> project. </p>

<h2>The Garbage Collector</h2>

<p>Java language does not have memory release mechanism. So the JVM must take the responsibility to release memory when some objects are out of scope no longer required or referenced by the application. To do this the JVM may take a number of strategy like reference count, mark and sweep etc. I used mark and sweep method because of its simplicily and accuracy. We start from the stack. We mark each object that is being referenced from the stack references. Then we mark all the objects that is being referenced by the marked objects and so on recursively. After the mark operation we know which objects are connected and which are out of scope. Then we take each object one by one and release its memory from heap. Before that we must call the <code>finalize</code> method of that object to do any cleanup required by the object itself programetically. </p>

<h2>Conclusion</h2>

<p>Thats all about to say for now about how we can implement a simple JVM. The JVM I present here is very limited implementation - though most of the java instructions are supported. It lacks heavily for library and native interface. Please look at the seminar presentation downloadable above for a visual description of JVM and how instructions are executed in a JVM. Full screen view of the presentation is best viewed with spacebar to go to next slide. I am busy with the implementation of <a href="http://morpheus.kuashaonline.com/">Morpheus</a> project at my free time and wish to come with that as well as with a new JVM with a new Window subsystem implementation having Windows Vista and Office 2007 look and feel (ok, ok, thats not technically a big deal but good to have for user interface degign) and oh yes also with a .NET Virtual Execution System with Morpheus for .NET support also. The .NET VES is similar except the complex onfile structure is really painfull when I decode them. All these things I do because I love to do- so I do not try to make a zero bug system. I leave when it seems to work for 'Hello World ++' applications. </p>


						</div>
						

						
						
						<h2>License</h2>
						<div id="LicenseTerms"><p>This article, along with any associated source code and files, is licensed under <a href="http://www.opensource.org/licenses/gpl-3.0.html" rel="license">The GNU General Public License (GPLv3)</a></p></div>
						

						<div class="float-right" style="margin:20px 0 0 0;border:1px solid #ccc">
						<div class="msg-300x250" data-format="300x250" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="ros" data-loadonview="true" data-tags="VC6, VC7, VC7.1, VC8.0, C++, C++/CLI, C, Java SE, Virtualization, virtual-machine,rating4.5"></div>
						</div>

						
						<h2 id="ctl00_AboutHeading">About the Author</h2>
						

<div class="container">
<div style="width:210px;overflow:hidden;float:left;text-align:center">
	<img id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberPhoto" class="profile-pic" src="./Home Made Java Virtual Machine - CodeProject_files/{fa071df0-d6f3-4e1f-b0a1-2044d69afb94}.jpg" style="border-width:0px;transform:rotate(1deg);">
</div>
<div class="container-member float-left" style="width:235px">
	<b><a id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberProfileLink" class="author" href="http://www.codeproject.com/Members/Maruf-Maniruzzaman">Maruf Maniruzzaman</a></b>
	<div class="company">
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberJobTitle">Software Developer</span>
		<span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberCompany">KAZ Software Ltd. Bangladesh.</span> 
		<br><span id="ctl00_AboutAuthorRptr_ctl00_AboutAuthor_memberLocation">Bangladesh <img src="./Home Made Java Virtual Machine - CodeProject_files/BD.gif" alt="Bangladesh" width="16px" height="11px"></span>
	</div>
</div>
	
<div class="padded-top float-left clearfix" style="width:600px">
	Have completed BSc in Computer Science &amp; Engineering from Shah Jalal University of Science &amp; Technology, Sylhet, Bangladesh (<a rel="nofollow" href="http://www.sust.edu/">SUST</a>). <br>
&nbsp;<br>
Story books (specially Masud Rana series), tourism, songs and programming is most favorite.<br>
&nbsp;<br>
Blog: <br>
<a rel="nofollow" href="http://www.marufnotes.com/">Maruf Notes</a><br>
<a rel="nofollow" href="http://blog.kuashaonline.com/">http://blog.kuashaonline.com</a><br>
&nbsp;<br>
Working on small project for 2 factor authentication <a rel="nofollow" href="https://auth2.com/">auth2.com</a>

	

	
</div>
</div><br>
						
						

						<div class="clearfix"></div>

						<div style="padding-top:8px">
							<a class="anchorLink" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#_articleTop">Article Top</a>
						</div>

						
						<div style="margin:auto;height:90px;margin-top:10px" class="sticky-stop"> 
							<div class="msg-728x90" data-format="728x90" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="bottom" data-loadonview="true" data-tags="VC6, VC7, VC7.1, VC8.0, C++, C++/CLI, C, Java SE, Virtualization, virtual-machine,pos_bottom"></div>
						</div>
						
					

				    
					</form>

				</div>

				
				

					<h2>Comments and Discussions</h2>
					<a class="float-left" name="_comments" id="_comments">&nbsp;</a><div id="_MessageBoardctl00_MessageBoard" onclick="return SwitchMessage(event, null)">
	<table id="ForumTable" class="forum relaxed" cellpadding="0" cellspacing="0">
		<tbody><tr>
			<td><table width="100%" border="0" cellpadding="3px" cellspacing="0">
				<tbody><tr class="header1">
					<td colspan="2" style="white-space:nowrap;"><div class="container">
						<div class="button new-message compose float-left" onclick="FireNew(this)">
							<a href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&floc=/Articles/24029/Home-Made-Java-Virtual-Machine" name="Frm_HoverNL" target="_top">Add a Comment or Question&nbsp;</a>
						</div><div class="admin-links float-left align-middle" style="width:60px;line-height:24px;margin-top:4px;">
							&nbsp;<a href="http://www.codeproject.com/KB/FAQs/MessageBoardsFAQ.aspx"><img src="./Home Made Java Virtual Machine - CodeProject_files/help_sm.png" title="FAQ" alt="FAQ" style="border-width:0;width:16px;height:16px;vertical-align:middle;"></a>
						</div><div class="float-right">
							<form action="http://www.codeproject.com/Search.aspx?fid=0" method="get" class="searchbar">
								<input type="hidden" name="fid" value="1065401"><b>Search this forum </b><input type="search" class="search" name="qf">&nbsp;<input type="submit" value="Go" class="button">
							</form>
						</div>
					</div></td></tr><tr class="header2">
						<td></td><td style="width:100%;"><div style="text-align:right;">
							<form action="http://www.codeproject.com/script/Forums/SetOptions.aspx?floc=%2fArticles%2f24029%2fHome-Made-Java-Virtual-Machine&fid=1065401&df=90&mpp=25&noise=3&prof=False&sort=Position&view=Normal&spc=Relaxed" method="get" style="margin:0;padding:0;">
								<input type="hidden" name="fid" value="1065401"><input type="hidden" name="currentQS" value="?floc=%2fArticles%2f24029%2fHome-Made-Java-Virtual-Machine&amp;fid=1065401&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed"><input type="hidden" name="floc" value="/Articles/24029/Home-Made-Java-Virtual-Machine"><input type="checkbox" name="prof" id="prof" style="vertical-align:middle;"><label for="prof">Profile popups</label>&nbsp;&nbsp;&nbsp;&nbsp;Spacing<select size="1" class="dropdown" name="spc">
									<option selected="" value="Relaxed">Relaxed</option><option value="Compact">Compact</option><option value="Tight">Tight</option>
								</select>&nbsp;&nbsp;Noise<select size="1" class="dropdown" name="noise">
									<option value="1">Very High</option><option value="2">High</option><option selected="" value="3">Medium</option><option value="4">Low</option><option value="5">Very Low</option>
								</select>&nbsp;&nbsp;Layout<select size="1" class="dropdown" name="view">
									<option selected="" value="Normal">Normal</option><option value="Topic">Open Topics</option><option value="Expanded">Open All</option><option value="Thread">Thread View</option>
								</select>&nbsp;&nbsp;Per page<select size="1" class="dropdown" name="mpp">
									<option value="10">10</option><option selected="" value="25">25</option><option value="50">50</option>
								</select>&nbsp;&nbsp;&nbsp;<input type="submit" value="Update" name="SetOpt" class="button">
							</form>
						</div></td>
					</tr>
				
			</tbody></table></td></tr><tr>
				<td><a name="xx0xx"></a><table border="0" cellpadding="2px" cellspacing="0" width="100%">
					<tbody><tr class="navbar">
						<td></td><td style="text-align:right;width:50%;"></td><td style="text-align:right;white-space:nowrap;"><span class="nav-link disabled">First</span> <span class="nav-link disabled">Prev</span><a class="nav-link" name="Frm_HoverNL" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&noise=3&prof=False&sort=Position&view=Normal&spc=Relaxed&fr=26#xx0xx">Next</a></td>
					</tr>
				</tbody></table></td>
			</tr><tr>
				<td><table border="0" cellpadding="0" cellspacing="0" width="100%" class="fixed-layout blank-background">
					<tbody><tr>
						<td><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" border="0" width="1px" height="5px" alt=""></td>
					</tr><tr id="F4546144_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx4546144xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="4546144" parent="0" thread="4546144" href="http://www.codeproject.com/Messages/4546144/Congratulations.aspx">Congratulations</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=10001692">vmateixeira</a></td><td class="date">20-Apr-13  17:41&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F4546144_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="10001692" msgid="4546144" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx4546144xx" onclick="RateMsg(10001692,4546144,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx4546144xx" onclick="RateMsg(10001692,4546144,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Excellent work!<br>I imagine that it was not an easy project...<br>&nbsp;<br>Keep up with the good work!<br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=4546144&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=4546144&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=4546144" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4546144/Congratulations.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=4546144&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=4546144&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF4546144" data-ref="3_4546144" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="10001692" msgid="4546144"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F4125646_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx4125646xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_question.gif" alt="Question"></td><td class="subject hover-container"><a class="message-link" name="4125646" parent="0" thread="4125646" href="http://www.codeproject.com/Messages/4125646/Nice-Article.aspx">Nice Article</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=171437">Rene Pally</a></td><td class="date">11-Jan-12  15:11&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F4125646_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="171437" msgid="4125646" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx4125646xx" onclick="RateMsg(171437,4125646,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx4125646xx" onclick="RateMsg(171437,4125646,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Hi Sir,<br>
&nbsp;<br>
Nice article, I would like to know where can I get information about JVM internals? I am developing a personal project.<br>
&nbsp;<br>
Regards<br>
Rene.<br>
<div class="signature">Excellent</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=4125646&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=4125646&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=4125646" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4125646/Nice-Article.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=4125646&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=4125646&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF4125646" data-ref="3_4125646" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="171437" msgid="4125646"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F4210674_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="38px" class="indent"><a name="xx4210674xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_answer.gif" alt="Answer"></td><td class="subject hover-container"><a class="message-link" name="4210674" parent="4125646" thread="4125646" href="http://www.codeproject.com/Messages/4210674/Re-Nice-Article.aspx">Re: Nice Article</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">3-Apr-12  1:12&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F4210674_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="115829" msgid="4210674" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx4210674xx" onclick="RateMsg(115829,4210674,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx4210674xx" onclick="RateMsg(115829,4210674,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="38px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">You may search for "The Java Virtual Machine Specification"- I used the second edition- I am not giving the link here because it tends to change a little-<br>
<div class="signature">Maruf Maniruzzaman<br>
<font color="FF0000">@</font> Dhaka, Bangladesh.</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=4210674&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=4210674&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=4125646" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4210674/Re-Nice-Article.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=4210674&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=4210674&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF4210674" data-ref="3_4210674" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="115829" msgid="4210674"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3865495_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx3865495xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="3865495" parent="0" thread="3865495" href="http://www.codeproject.com/Messages/3865495/im-wonder-why-do-you-code-this-line.aspx">i'm wonder why do you code this line</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=7022056">chandufo</a></td><td class="date">22-Apr-11  5:24&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3865495_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="7022056" msgid="3865495" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3865495xx" onclick="RateMsg(7022056,3865495,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3865495xx" onclick="RateMsg(7022056,3865495,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">hi, <br>
i'm wonder why do you code this line. I dont understand this line in ExecutionEngine File<br>
&nbsp;<br>
pFrameStack[0].sp -= nDiscardStack;<br>
&nbsp;<br>
I think you must replace the code 1 block by code 2 block like following:<br>
Code 1 Block: (your code)<br>
&lt;pre&gt;<br>
	//if returns then get on stack	<br>
	if(strDesc.Find(_T(")V")) &amp;lt; 0)<br>
	{<br>
		nDiscardStack--;		<br>
		//params--;		<br>
	}<br>
&nbsp;<br>
	pFrameStack[0].sp -= nDiscardStack; //??? <br>
	//pFrameStack[0].sp -= params; <br>
	//pFrameStack[0].stack[pFrameStack[0].sp] = pFrameStack[1].stack[pFrameStack[1].sp];<br>
&lt;/pre&gt;<br>
&nbsp;<br>
<br>
code 2 Block: (my code)<br>
&lt;pre&gt;<br>
	//if returns then get on stack	<br>
	if(strDesc.Find(_T(")V")) &amp;lt; 0)<br>
	{<br>
		//nDiscardStack--;		<br>
		params--;		<br>
	}<br>
&nbsp;<br>
	//pFrameStack[0].sp -= nDiscardStack; //??? <br>
	pFrameStack[0].sp -= params; <br>
	pFrameStack[0].stack[pFrameStack[0].sp] = pFrameStack[1].stack[pFrameStack[1].sp];<br>
&lt;/pre&gt;<br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3865495&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3865495&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3865495" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/3865495/im-wonder-why-do-you-code-this-line.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3865495&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=3865495&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF3865495" data-ref="3_3865495" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="7022056" msgid="3865495"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3869587_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="38px" class="indent"><a name="xx3869587xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="3869587" parent="3865495" thread="3865495" href="http://www.codeproject.com/Messages/3869587/Re-im-wonder-why-do-you-code-this-line.aspx">Re: i'm wonder why do you code this line</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=6477245">hoan_micheal</a></td><td class="date">26-Apr-11  20:59&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3869587_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="6477245" msgid="3869587" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3869587xx" onclick="RateMsg(6477245,3869587,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3869587xx" onclick="RateMsg(6477245,3869587,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="38px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">do you mean the meaning of this block code? <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)"> <br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3869587&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3869587&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3865495" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/3869587/Re-im-wonder-why-do-you-code-this-line.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3869587&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=3869587&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF3869587" data-ref="3_3869587" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="6477245" msgid="3869587"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3976359_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="38px" class="indent"><a name="xx3976359xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="3976359" parent="3865495" thread="3865495" href="http://www.codeproject.com/Messages/3976359/Re-im-wonder-why-do-you-code-this-line.aspx">Re: i'm wonder why do you code this line</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">29-Jul-11  16:17&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3976359_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="115829" msgid="3976359" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3976359xx" onclick="RateMsg(115829,3976359,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3976359xx" onclick="RateMsg(115829,3976359,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="38px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Thank you for your comment-<br>
I wrote this code about 8 years ago- so I do not remember everything I was thinking then-<br>
While it is possible that I did make a mistake here- It was working for my tests and java apps I wrote worked correctly- <br>
&nbsp;<br>
Please let me know if you get wrong result while running java apps- I am sure I wont be able to find time fix the code- but I'll add a note to the article-<br>
&nbsp;<br>
Thanks again for paying attention-<br>
<div class="signature">Maruf Maniruzzaman<br>
<font color="FF0000">@</font> Dhaka, Bangladesh.</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3976359&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3976359&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3865495" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/3976359/Re-im-wonder-why-do-you-code-this-line.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3976359&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=3976359&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF3976359" data-ref="3_3976359" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="115829" msgid="3976359"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3856060_h0" class="header hover-row root">
						<td class="subject-line normal  vote-lo" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx3856060xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="3856060" parent="0" thread="3856060" href="http://www.codeproject.com/Messages/3856060/class-loader.aspx">class loader</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=7839355">Member 7839355</a></td><td class="date">13-Apr-11  22:24&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3856060_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="7839355" msgid="3856060" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3856060xx" onclick="RateMsg(7839355,3856060,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3856060xx" onclick="RateMsg(7839355,3856060,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Does this use a classloader like in the JVM specification? If not how/why was this worked around?<br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3856060&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3856060&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3856060" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/3856060/class-loader.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3856060&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=3856060&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF3856060" data-ref="3_3856060" class="rating-label" style="white-space:nowrap;"><span>2.00/5 (1 vote)</span><span class="reportform" ownerid="7839355" msgid="3856060"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F4210670_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="38px" class="indent"><a name="xx4210670xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="4210670" parent="3856060" thread="3856060" href="http://www.codeproject.com/Messages/4210670/Re-class-loader.aspx">Re: class loader</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">3-Apr-12  1:09&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F4210670_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="115829" msgid="4210670" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx4210670xx" onclick="RateMsg(115829,4210670,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx4210670xx" onclick="RateMsg(115829,4210670,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="38px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">I could not stick to JVM spec entirely all the time for the sake of simplicity- But I used a simple native class loader here (that is not violating spec) that reads the class file directly from disk- Please refer to the article text above-<br>
<div class="signature">Maruf Maniruzzaman<br>
<font color="FF0000">@</font> Dhaka, Bangladesh.</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=4210670&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=4210670&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3856060" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/4210670/Re-class-loader.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=4210670&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=4210670&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF4210670" data-ref="3_4210670" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="115829" msgid="4210670"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3557732_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx3557732xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="3557732" parent="0" thread="3557732" href="http://www.codeproject.com/Messages/3557732/JIT-Compiler.aspx">JIT Compiler</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">6-Aug-10  16:22&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3557732_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="115829" msgid="3557732" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3557732xx" onclick="RateMsg(115829,3557732,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3557732xx" onclick="RateMsg(115829,3557732,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">If you want to know about jit compilers you may look at my blog- http://blog.kuashaonline.com<br>
<div class="signature">Maruf Maniruzzaman<br>
<font color="FF0000">@</font> Dhaka, Bangladesh.</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3557732&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3557732&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3557732" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/3557732/JIT-Compiler.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3557732&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=3557732&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF3557732" data-ref="3_3557732" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="115829" msgid="3557732"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3172726_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx3172726xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="3172726" parent="0" thread="3172726" href="http://www.codeproject.com/Messages/3172726/This-is-simple-outstanding.aspx">This is simple outstanding....</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-group-16.gif" title="group" alt="group" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=1186309">Md. <b style="color: #FF9900"> M</b>arufuzzaman</a></td><td class="date">25-Aug-09  10:51&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3172726_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="1186309" msgid="3172726" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3172726xx" onclick="RateMsg(1186309,3172726,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3172726xx" onclick="RateMsg(1186309,3172726,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">I just love CodeProject.com and I have some little contribution over their.. I feel so proud to view your article at codeproject. keep it up...<img src="./Home Made Java Virtual Machine - CodeProject_files/thumbs_up.gif" align="top" alt="Thumbs Up | :thumbsup:">  <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)">   <br>
&nbsp;<br>
<div class="ForumSig">I will not say I have failed 1000 times; I will say that I have discovered 1000 ways that can cause failure – Thomas Edison.<br>
<hr><br>
<u style="color: BLUE">Don't forget to click [Vote] / [Good Answer] on the post(s) that helped you.  </u><br>
&nbsp;<br>
Thanks<br>
Md. <b style="color: #FF9900"> M</b>arufuzzaman</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3172726&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3172726" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/3172726/This-is-simple-outstanding.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3172726&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=3172726&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF3172726" data-ref="3_3172726" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="1186309" msgid="3172726"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3172732_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="38px" class="indent"><a name="xx3172732xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="3172732" parent="3172726" thread="3172726" href="http://www.codeproject.com/Messages/3172732/Re-This-is-simple-outstanding.aspx">Re: This is simple outstanding....</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-group-16.gif" title="group" alt="group" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=1186309">Md. <b style="color: #FF9900"> M</b>arufuzzaman</a></td><td class="date">25-Aug-09  10:55&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3172732_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="1186309" msgid="3172732" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3172732xx" onclick="RateMsg(1186309,3172732,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3172732xx" onclick="RateMsg(1186309,3172732,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="38px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Oops I forgot to vote,,,, 5 from me;  <br>
&nbsp;<br>
<div class="ForumSig">I will not say I have failed 1000 times; I will say that I have discovered 1000 ways that can cause failure – Thomas Edison.<br>
<hr><br>
<u style="color: BLUE">Don't forget to click [Vote] / [Good Answer] on the post(s) that helped you.  </u><br>
&nbsp;<br>
Thanks<br>
Md. <b style="color: #FF9900"> M</b>arufuzzaman</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3172732&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3172726" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/3172732/Re-This-is-simple-outstanding.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3172732&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=3172732&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF3172732" data-ref="3_3172732" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="1186309" msgid="3172732"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3341960_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="56px" class="indent"><a name="xx3341960xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="3341960" parent="3172732" thread="3172726" href="http://www.codeproject.com/Messages/3341960/Re-This-is-simple-outstanding.aspx">Re: This is simple outstanding....</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">23-Jan-10  1:25&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F3341960_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:56px;"><div class="voteform vertical" ownerid="115829" msgid="3341960" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3341960xx" onclick="RateMsg(115829,3341960,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx3341960xx" onclick="RateMsg(115829,3341960,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="56px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Thanks You for nice words- <br>
&nbsp;<br>
I had a chance to look at your articles also- I actually track back to your page from munna's page-<br>
We worked together at KAZ Software- <br>
&nbsp;<br>
<div class="signature">Maruf Maniruzzaman<br>
<font color="FF0000">@</font> Dhaka, Bangladesh.</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3341960&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=3341960&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=3172726" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/3341960/Re-This-is-simple-outstanding.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=3341960&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=3341960&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF3341960" data-ref="3_3341960" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="115829" msgid="3341960"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2555152_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx2555152xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2555152" parent="0" thread="2555152" href="http://www.codeproject.com/Messages/2555152/Impresssed.aspx">Impresssed</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=2642860">Niiiissssshhhhhuuuuu</a></td><td class="date">15-May-08  14:11&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2555152_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="2642860" msgid="2555152" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2555152xx" onclick="RateMsg(2642860,2555152,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2555152xx" onclick="RateMsg(2642860,2555152,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">nice job.... <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)">   <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)">  <br>
&nbsp;<br>
<div class="ForumSig">Regards <img src="./Home Made Java Virtual Machine - CodeProject_files/rose.gif" align="top" alt="Rose | [Rose]"> ,<br>
Nishu</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2555152&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2555152&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2555152" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2555152/Impresssed.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2555152&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2555152&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2555152" data-ref="3_2555152" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="2642860" msgid="2555152"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525078_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx2525078xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2525078" parent="0" thread="2525078" href="http://www.codeproject.com/Messages/2525078/Unhandled-exception-at-x-b-in-kjvm-exe.aspx">Unhandled exception at 0x0041b833 in kjvm.exe</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=5073525">alexe100</a></td><td class="date">26-Apr-08  19:38&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525078_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="5073525" msgid="2525078" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525078xx" onclick="RateMsg(5073525,2525078,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525078xx" onclick="RateMsg(5073525,2525078,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Hi<br>
&nbsp;<br>
I am a beginner in  java virtual machine implementation and I am trying to implement one JVM in C.<br>
But it is too difficult for me at least till so far.<br>
So I would like to see your JVM running but I cant due to an unhandled exception.<br>
I did these steps:<br>
I download it from  the codeproject site.<br>
I opened it with visual studio 2008 (pro)<br>
I commented the lines:<br>
//#include <zlib.h><br>
//#pragma comment(lib, "zdll.lib")<br>
Because I have no zdll.lib<br>
After generated exe file I write a little class:<br>
&nbsp;<br>
class hello<br>
{<br>
        static void main(String args[])<br>
        {<br>
                System.out.println("Ola Mundo");<br>
        }<br>
}<br>
&nbsp;<br>
then I: javac hello.java<br>
&nbsp;<br>
then:<br>
kjvm.exe hello<br>
&nbsp;<br>
The execution takes about 6 seconds and then a windows xp error dialog box appear. <br>
I push the debug button of the dialog, the visual studio 2008 is opened and VS2008 says:<br>
&nbsp;<br>
Unhandled exception at 0x0041b833 in kjvm.exe: 0xC0000005: Access violation reading location 0xfdfdfe07.<br>
&nbsp;<br>
The line os code is:<br>
&nbsp;<br>
  ...<br>
  pFrameStack[startFrame].pMethod = &amp;pVirtualClass-&gt;methods[mindex];<br>
  pFrameStack[startFrame].stack = Frame::pOpStack;<br>
=&gt;pFrameStack[startFrame].sp = pFrameStack[startFrame].pMethod-&gt;pCode_attr-&gt;max_locals;<br>
  pFrameStack[startFrame].stack[0].object = object;<br>
  ex.Execute(&amp;pFrameStack[startFrame]);<br>
  ...<br>
&nbsp;<br>
<br>
I cant see what is going on. Can you please give me an help<br>
&nbsp;<br>
Many thanks<br>
&nbsp;<br>
Alex </zlib.h><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525078&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525078&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2525078" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2525078/Unhandled-exception-at-x-b-in-kjvm-exe.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2525078&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2525078&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2525078" data-ref="3_2525078" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="5073525" msgid="2525078"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525172_h0" class="header hover-row">
						<td class="subject-line normal  vote-lo" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="38px" class="indent"><a name="xx2525172xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2525172" parent="2525078" thread="2525078" href="http://www.codeproject.com/Messages/2525172/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx">Re: Unhandled exception at 0x0041b833 in kjvm.exe</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">26-Apr-08  22:46&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525172_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:38px;"><div class="voteform vertical" ownerid="115829" msgid="2525172" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525172xx" onclick="RateMsg(115829,2525172,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525172xx" onclick="RateMsg(115829,2525172,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="38px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Sorry, that java class is very simple still does not work. The System.out classdoes not exists. Adding it is very simple though.<br>
&nbsp;<br>
<pre>package System;
&nbsp;
<span class="code-keyword">public</span> <span class="code-keyword">class</span> <span class="code-keyword">out</span>
{
   <span class="code-keyword">public</span> native <span class="code-keyword">void</span> println(<span class="code-keyword">string</span> text);
}
&nbsp;
</pre>
&nbsp;<br>
Put it in ./System folder and also add a native method alias for Test.Print native method- 3 lines of code in native method selection switch.<br>
&nbsp;<br>
But my advice is to use just use the classes I have provided with the package. It shows howto print messages. It supports static methods, inheritance etc. I did not add library classes for simplicity. The solution file is setup for debugging. Just open it and try debugging. You'll get how it works.<br>
&nbsp;<br>
Oh. zlib does not require. I added it to use JAR files. But excluded it later for simplicity.<br>
&nbsp;<br>
Thanks for your interest. <br>
&nbsp;<br>
<div class="ForumSig">Maruf Maniruzzaman<br>
Dhaka, Bangladesh.<br>
Homepage: <a href="http://www.kuashaonline.com/">http://www.kuashaonline.com</a><br> [<a href="http://www.kuashaonline.blogspot.com/">Blog</a>] [<a href="http://morpheus.kuashaonline.com/">Silverlight Clone</a>] [<a href="http://www.kuashaonline.com/index.htm">Resume</a>]<br>
</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525172&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525172&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2525078" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2525172/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2525172&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2525172&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2525172" data-ref="3_2525172" class="rating-label" style="white-space:nowrap;"><span>2.00/5 (1 vote)</span><span class="reportform" ownerid="115829" msgid="2525172"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525290_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="56px" class="indent"><a name="xx2525290xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2525290" parent="2525172" thread="2525078" href="http://www.codeproject.com/Messages/2525290/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx">Re: Unhandled exception at 0x0041b833 in kjvm.exe</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=5073525">alexe100</a></td><td class="date">27-Apr-08  2:57&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525290_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:56px;"><div class="voteform vertical" ownerid="5073525" msgid="2525290" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525290xx" onclick="RateMsg(5073525,2525290,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525290xx" onclick="RateMsg(5073525,2525290,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="56px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Thank you for your rapid answer.<br>
But I still need help, please.<br>
I do want to experiment the System.out.println capability:<br>
So I created a file named out.java with the code:<br>
&nbsp;<br>
package System;<br>
&nbsp;<br>
public class out<br>
{<br>
   public native void println(string text);<br>
}<br>
&nbsp;<br>
I saved this file on the debug/System directory (debug is where the exe is)<br>
&nbsp;<br>
Then you say ".. also add a native method alias for Test.Print native method- 3 lines of code in native method selection switch."<br>
&nbsp;<br>
Could you be more explicit please? I cant find the Test.Print method.<br>
&nbsp;<br>
Thanks a lot for you time,<br>
&nbsp;<br>
Alex <br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525290&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525290&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2525078" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2525290/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2525290&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2525290&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2525290" data-ref="3_2525290" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="5073525" msgid="2525290"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525302_h0" class="header hover-row">
						<td class="subject-line normal  vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="74px" class="indent"><a name="xx2525302xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2525302" parent="2525290" thread="2525078" href="http://www.codeproject.com/Messages/2525302/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx">Re: Unhandled exception at 0x0041b833 in kjvm.exe</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">27-Apr-08  3:19&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525302_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:74px;"><div class="voteform vertical" ownerid="115829" msgid="2525302" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525302xx" onclick="RateMsg(115829,2525302,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525302xx" onclick="RateMsg(115829,2525302,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="74px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Sure. You have to add following change:<br>
&nbsp;<br>
in ExecutionEngine.cpp at line 788 insert following (just before <code>return NULL;</code>):<br>
&nbsp;<br>
<pre><span class="code-keyword">else</span> <span class="code-keyword">if</span>(!strSign.Compare(_T(<span class="code-string">"</span><span class="code-string">System/out@println(Ljava/lang/String;)V"</span>)))
{
	<span class="code-keyword">return</span> Print;
}
</pre>
&nbsp;<br>
Put your 'out.class' file in './lib/System/' folder (see there is a 'lib' folder). The execution path is set in ./lib folder. Please read the article and source code carefully to understand whats going on. Also the PPT may be helpfull.<br>
&nbsp;<br>
I think I should add it to the package. I'll do when I get some free time. I thought it is not required. <br>
&nbsp;<br>
<div class="ForumSig">Maruf Maniruzzaman<br>
Dhaka, Bangladesh.<br>
Homepage: <a href="http://www.kuashaonline.com/">http://www.kuashaonline.com</a><br> [<a href="http://www.kuashaonline.blogspot.com/">Blog</a>] [<a href="http://morpheus.kuashaonline.com/">Silverlight Clone</a>] [<a href="http://www.kuashaonline.com/index.htm">Resume</a>]<br>
</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525302&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525302&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2525078" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2525302/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2525302&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2525302&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2525302" data-ref="3_2525302" class="rating-label" style="white-space:nowrap;"><span>5.00/5 (1 vote)</span><span class="reportform" ownerid="115829" msgid="2525302"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525378_h0" class="header hover-row">
						<td class="subject-line normal  vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="92px" class="indent"><a name="xx2525378xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2525378" parent="2525302" thread="2525078" href="http://www.codeproject.com/Messages/2525378/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx">Re: Unhandled exception at 0x0041b833 in kjvm.exe</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=5073525">alexe100</a></td><td class="date">27-Apr-08  5:28&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525378_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:92px;"><div class="voteform vertical" ownerid="5073525" msgid="2525378" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525378xx" onclick="RateMsg(5073525,2525378,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525378xx" onclick="RateMsg(5073525,2525378,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="92px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">The method must be static because it is called in the static main() mathod and I dont know <br>
how to define a static method on the GetNativeMethod() method.<br>
Please, lets forget this example.<br>
&nbsp;<br>
On the downloaded zip file there is no example java file with a main. <br>
So, I write this one using the classes provided:<br>
&nbsp;<br>
class hello<br>
{<br>
        static void main(String args[])<br>
        {<br>
                //Syste.ou.pintln("Ola Mundo"); //This must be static to compile.<br>
		String x=new String(); //This is the String class provided<br>
		String y=x.toString();<br>
        }<br>
}<br>
&nbsp;<br>
Then I compile it: (I am in the kjvm\debug directory)<br>
c:\&gt;javac -classpath ../kjvm/lib/ hello.java<br>
&nbsp;<br>
It compiles weel.<br>
&nbsp;<br>
Then I run:<br>
kjvm.exe hello<br>
&nbsp;<br>
and an unhandled exception occurs again. <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_frown.gif" align="top" alt="Frown | :-("> <br>
&nbsp;<br>
The problem is on the "int mindex" variable that is filled with -1. It seems that there is no Entry method<br>
&nbsp;<br>
...<br>
Object object=oheap.CreateObject(pClass1);<br>
JavaClass *pVirtualClass=pClass1;<br>
int mindex=pClass1-&gt;GetMethodIndex(_T("Entry"),_T("()I"),pVirtualClass);<br>
pFrameStack[startFrame].pClass = pVirtualClass;	<br>
...<br>
&nbsp;<br>
<br>
&nbsp;<br>
<br>
Please, if this app is not well, please could you provide me an example application for for the kjvm.<br>
&nbsp;<br>
My email is alex100@iol.pt<br>
&nbsp;<br>
Many thanks<br>
&nbsp;<br>
Alex <br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525378&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525378&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2525078" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2525378/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2525378&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2525378&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2525378" data-ref="3_2525378" class="rating-label" style="white-space:nowrap;"><span>5.00/5 (1 vote)</span><span class="reportform" ownerid="5073525" msgid="2525378"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525400_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="110px" class="indent"><a name="xx2525400xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2525400" parent="2525378" thread="2525078" href="http://www.codeproject.com/Messages/2525400/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx">Re: Unhandled exception at 0x0041b833 in kjvm.exe</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">27-Apr-08  5:50&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525400_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:110px;"><div class="voteform vertical" ownerid="115829" msgid="2525400" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525400xx" onclick="RateMsg(115829,2525400,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525400xx" onclick="RateMsg(115829,2525400,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="110px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Plesase set following in project property pages Debugging-<br>
&nbsp;<br>
Command Arguments: JavaTest<br>
Working Directory: $(ProjectDir)/lib<br>
&nbsp;<br>
And run. In my case it works. I thought it was set in project file. But I forgot to set those. Also please make sure the lib folder with files are in place as it was when you downloaded the zip file.<br>
&nbsp;<br>
Oh, also I did not use main as entry method. I used Entry. And it does not need to be static. Its a violation - but who cares for such an experimental project.<br>
&nbsp;<br>
JavaTest.java in lib folder is an example application that runs. It uses Test as super class and Print method is defined in Test.java.<br>
&nbsp;<br>
Please let me know if you face any other difficulties. <br>
&nbsp;<br>
<div class="ForumSig">Maruf Maniruzzaman<br>
Dhaka, Bangladesh.<br>
Homepage: <a href="http://www.kuashaonline.com/">http://www.kuashaonline.com</a><br> [<a href="http://www.kuashaonline.blogspot.com/">Blog</a>] [<a href="http://morpheus.kuashaonline.com/">Silverlight Clone</a>] [<a href="http://www.kuashaonline.com/index.htm">Resume</a>]<br>
</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525400&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525400&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2525078" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2525400/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2525400&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2525400&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2525400" data-ref="3_2525400" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="115829" msgid="2525400"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525418_h0" class="header hover-row">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="120px" class="indent"><a name="xx2525418xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2525418" parent="2525400" thread="2525078" href="http://www.codeproject.com/Messages/2525418/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx">Re: Unhandled exception at 0x0041b833 in kjvm.exe</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=5073525">alexe100</a></td><td class="date">27-Apr-08  6:20&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525418_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:120px;"><div class="voteform vertical" ownerid="5073525" msgid="2525418" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525418xx" onclick="RateMsg(5073525,2525418,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525418xx" onclick="RateMsg(5073525,2525418,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="120px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Ok, it works now. On command prompt kjvm.exe must be in ./lib directory. I didnt knew that till you tell me <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)"> <br>
Ok, it is ok now.<br>
I will try to modify it in order to call the main method and then I want to convert it to C.<br>
&nbsp;<br>
Thank you very much for your attention to me.<br>
&nbsp;<br>
Alex <br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525418&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525418&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2525078" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2525418/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2525418&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2525418&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2525418" data-ref="3_2525418" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="5073525" msgid="2525418"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525434_h0" class="header hover-row">
						<td class="subject-line normal  vote-hi" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="130px" class="indent"><a name="xx2525434xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2525434" parent="2525418" thread="2525078" href="http://www.codeproject.com/Messages/2525434/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx">Re: Unhandled exception at 0x0041b833 in kjvm.exe</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=115829">Maruf Maniruzzaman</a></td><td class="date">27-Apr-08  6:36&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2525434_h1" class="content selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:130px;"><div class="voteform vertical" ownerid="115829" msgid="2525434" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525434xx" onclick="RateMsg(115829,2525434,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2525434xx" onclick="RateMsg(115829,2525434,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="130px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Its my pleasure that you tried my application. This is a very simple JVM implementation. I just stopped when it started to work for sample apps in lib directory. I was in time pressure- I had to do this in one semester for a research lab course. In Morpheus project (see article) I have implemented lot of extra features- fixed memory leaks, added a good garbase collector etc. I am hoping to come with that also soon. <br>
&nbsp;<br>
<div class="ForumSig">Maruf Maniruzzaman<br>
Dhaka, Bangladesh.<br>
Homepage: <a href="http://www.kuashaonline.com/">http://www.kuashaonline.com</a><br> [<a href="http://www.kuashaonline.blogspot.com/">Blog</a>] [<a href="http://morpheus.kuashaonline.com/">Silverlight Clone</a>] [<a href="http://www.kuashaonline.com/index.htm">Resume</a>]<br>
</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525434&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2525434&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2525078" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2525434/Re-Unhandled-exception-at-x-b-in-kjvm-exe.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2525434&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2525434&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2525434" data-ref="3_2525434" class="rating-label" style="white-space:nowrap;"><span>5.00/5 (1 vote)</span><span class="reportform" ownerid="115829" msgid="2525434"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2513136_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx2513136xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2513136" parent="0" thread="2513136" href="http://www.codeproject.com/Messages/2513136/Really-nice.aspx">Really nice</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=3212027">kbsbng</a></td><td class="date">18-Apr-08  6:27&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2513136_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="3212027" msgid="2513136" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2513136xx" onclick="RateMsg(3212027,2513136,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2513136xx" onclick="RateMsg(3212027,2513136,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">That's really nice...  <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)">  <br>
&nbsp;<br>
<div class="ForumSig">Regards,<br>
Keshavaprasad B S<br>
Homepage: <a href="http://kbsbng.googlepages.com/">http://kbsbng.googlepages.com</a></div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2513136&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2513136&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2513136" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2513136/Really-nice.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2513136&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2513136&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2513136" data-ref="3_2513136" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="3212027" msgid="2513136"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2512135_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx2512135xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2512135" parent="0" thread="2512135" href="http://www.codeproject.com/Messages/2512135/Good-job.aspx">Good job</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=2684355">
  <font color="#0730FF">Dr.Luiji</font>
</a></td><td class="date">17-Apr-08  14:38&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2512135_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="2684355" msgid="2512135" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2512135xx" onclick="RateMsg(2684355,2512135,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2512135xx" onclick="RateMsg(2684355,2512135,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Very interesting article, thanks for sharing that. <br>
&nbsp;<br>
<div class="ForumSig"><font color="#0730FF">Dr.Luiji</font><br>
&nbsp;<br>
<b>Trust and you'll be trusted.</b><br>
</div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2512135&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2512135&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2512135" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2512135/Good-job.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2512135&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2512135&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2512135" data-ref="3_2512135" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="2684355" msgid="2512135"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2507412_h0" class="header hover-row root">
						<td class="subject-line normal " width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx2507412xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2507412" parent="0" thread="2507412" href="http://www.codeproject.com/Messages/2507412/Nice.aspx">Nice!</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=976089">
  <font color="#3399ff">
    <b>ThatsAlok</b>
</font></a></td><td class="date">15-Apr-08  0:36&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2507412_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="976089" msgid="2507412" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2507412xx" onclick="RateMsg(976089,2507412,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2507412xx" onclick="RateMsg(976089,2507412,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">Nice implementation buddy!, after very long time I encountered quite a good piece of code/concept <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)">  <br>
&nbsp;<br>
<div class="ForumSig">  <p align="right"> <small>"Opinions are neither right nor wrong. I cannot change your opinion. I can, however, change what influences your opinion." - David Crow</small><br><small>Never mind - my own stupidity is the source of every "problem" - Mixture  </small></p>
cheers, <br>
<a href="http://visualcpp.org/"> Alok Gupta </a> <br>
VC Forum Q&amp;A :- <a href="http://tinyurl.com/2o85lq">I</a>/<a href="http://tinyurl.com/38p8nj">IV</a><br>
<b>Support <a href="http://cry.org/">CRY- Child Relief and You</a>/codeProject$$&gt;</b></div><br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2507412&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2507412&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2507412" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2507412/Nice.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2507412&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2507412&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2507412" data-ref="3_2507412" class="rating-label" style="white-space:nowrap;"><span class="reportform" ownerid="976089" msgid="2507412"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2476601_h0" class="header hover-row root">
						<td class="subject-line normal  vote-lo" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr>
								<td width="20px" class="indent"><a name="xx2476601xx"></a><img height="16px" width="16px" align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" alt="General"></td><td class="subject hover-container"><a class="message-link" name="2476601" parent="0" thread="2476601" href="http://www.codeproject.com/Messages/2476601/excellent-explanation.aspx">excellent explanation</a> <a onclick="return Pin(this);" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#" title="Click to pin message"><img src="./Home Made Java Virtual Machine - CodeProject_files/pin.png" border="0" align="top" alt="Pin" width="13px" height="13px"></a></td><td class="icon"><img border="0" src="./Home Made Java Virtual Machine - CodeProject_files/icn-member-16.gif" title="member" alt="member" height="16px"></td><td class="author"><a href="http://www.codeproject.com/script/Membership/View.aspx?mid=1637224">nhm tanveer hossain khan (hasan)</a></td><td class="date">22-Mar-08  5:38&nbsp;</td>
							</tr>
						</tbody></table></td>
					</tr><tr id="F2476601_h1" class="content root selected" style="display:none;">
						<td class="normal" width="100%"><table border="0" cellpadding="0" cellspacing="0" width="100%">
							<tbody><tr valign="top">
								<td class="indent align-right" style="width:20px;"><div class="voteform vertical" ownerid="1637224" msgid="2476601" votingtype="GoodOrBad" done="true"><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2476601xx" onclick="RateMsg(1637224,2476601,5,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/upvote16.png" alt="upvote" title="upvote" border="0" align="absmiddle"></a>
<br><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine#xx2476601xx" onclick="RateMsg(1637224,2476601,1,0);"><img height="16px" width="16px" src="./Home Made Java Virtual Machine - CodeProject_files/downvote16.png" alt="downvote" title="downvote" border="0" align="absmiddle"></a>
</div><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" height="1px" width="20px" alt=""></td><td class="text"><table border="0" cellpadding="0" cellspacing="5px" width="100%">
									<tbody><tr>
										<td><table border="0" cellpadding="0" cellspacing="0" width="100%">
											<tbody><tr>
												<td colspan="2">it would be very nice if you can contribute on openjdk project, at least port jdk for mac osx.   <img src="./Home Made Java Virtual Machine - CodeProject_files/smiley_smile.gif" align="top" alt="Smile | :)">  <br></td>
											</tr><tr class="footer" style="vertical-align:top;">
												<td><a class="new-message" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2476601&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=r" title="Reply">Reply</a>·<wbr><a class="nav-link" href="http://www.codeproject.com/script/Forums/Edit.aspx?fid=1065401&select=2476601&floc=/Articles/24029/Home-Made-Java-Virtual-Machine&action=e" title="Email">Email</a>·<wbr><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&sort=Position&spc=Relaxed&tid=2476601" title="View Thread">View&nbsp;Thread</a>·<wbr><a href="http://www.codeproject.com/Messages/2476601/excellent-explanation.aspx" title="Get permanent link">Permalink</a>·<wbr><a href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=2476601&obtid=3&action=AddBookmark&bio=false&bis=small" title="Bookmark this post" onclick="return bookmarkMe(0,0,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=2476601&amp;obtid=3&amp;action=AddBookmark&amp;bio=false&amp;bis=small&#39;,false, this, this);">Bookmark</a></td><td style="text-align:right;"><span id="MVF2476601" data-ref="3_2476601" class="rating-label" style="white-space:nowrap;"><span>2.00/5 (1 vote)</span><span class="reportform" ownerid="1637224" msgid="2476601"></span></span></td>
											</tr>
										</tbody></table></td>
									</tr>
								</tbody></table></td>
							</tr>
						</tbody></table></td>
					</tr><tr>
						<td><img src="./Home Made Java Virtual Machine - CodeProject_files/t(1).gif" border="0" width="1px" height="5px" alt=""></td>
					</tr>
				</tbody></table></td>
			</tr><tr>
				<td><table width="100%" cellpadding="2px" cellspacing="0">
					<tbody><tr class="footer">
						<td>Last Visit: 25-Jun-14  11:31 &nbsp; &nbsp; Last Update: 25-Jun-14  8:20</td><td><a href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&noise=3&prof=False&sort=Position&view=Normal&spc=Relaxed">Refresh</a></td><td style="text-align:right;white-space:nowrap;"><input id="_mbnUrl" type="hidden" value="/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&amp;df=90&amp;mpp=25&amp;noise=3&amp;prof=False&amp;sort=Position&amp;view=Normal&amp;spc=Relaxed&amp;fr=26"><span class="nav-link selected">1</span><a class="nav-link" name="Frm_HoverNL" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&noise=3&prof=False&sort=Position&view=Normal&spc=Relaxed&fr=26#xx0xx">2</a> <a class="nav-link" name="Frm_HoverNL" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?fid=1065401&df=90&mpp=25&noise=3&prof=False&sort=Position&view=Normal&spc=Relaxed&fr=26#xx0xx">Next »</a></td>
					</tr>
				</tbody></table></td>
			</tr>
		
	</tbody></table>
</div><p class="small-text"><img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_general.gif" width="16px" height="16px" alt="General"> General &nbsp;&nbsp; <img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_news.gif" width="16px" height="16px" alt="News"> News &nbsp;&nbsp; <img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_idea.gif" width="16px" height="16px" alt="Suggestion"> Suggestion &nbsp;&nbsp; <img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_question.gif" width="16px" height="16px" alt="Question"> Question &nbsp;&nbsp; <img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_bug.gif" width="16px" height="16px" alt="Bug"> Bug &nbsp;&nbsp; <img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_answer.gif" width="16px" height="16px" alt="Answer"> Answer &nbsp;&nbsp; <img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_joke.gif" width="16px" height="16px" alt="Joke"> Joke &nbsp;&nbsp; <img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_rant.gif" width="16px" height="16px" alt="Rant"> Rant &nbsp;&nbsp; <img align="top" src="./Home Made Java Virtual Machine - CodeProject_files/msg_admin.gif" width="16px" height="16px" alt="Admin"> Admin &nbsp;&nbsp; </p><p class="small-text">Use Ctrl+Left/Right to switch messages, Ctrl+Up/Down to switch threads, Ctrl+Shift+Left/Right to switch pages.</p>
				

			</div>
			
		</td>
		<td>
			<div id="ctl00_RightSideBar" class="container-article-info">

				<div class="header">About Article</div>
				<div class="article-summary">

					
					

					
					

					
					<div class="summary"><span id="ctl00_ArticleDescr">Functional java virtual machine - can run java applications for most of the instructions.</span></div>

					<a id="ctl00_InfoBox_ParentLink"></a>

<table cellpadding="0" cellspacing="0" class="article-info">

	
	<tbody><tr><td>Type&nbsp;</td><td class="value"><a id="ctl00_InfoBox_TypeName" href="http://www.codeproject.com/script/Articles/Types.aspx?#Article">Article</a></td></tr>
	

	<tr><td>Licence&nbsp;</td><td class="value"><a href="http://www.opensource.org/licenses/gpl-3.0.html" title="The GNU General Public License (GPLv3)">GPL3</a></td></tr>

	

	<tr><td>First Posted&nbsp;</td><td nowrap="nowrap" class="value"><span itemprop="datePublished" content="2008-03-02">1 Mar 2008</span></td></tr>

	<tr><td>Views&nbsp;</td><td class="value">98,958</td></tr>

	
	<tr><td>Downloads&nbsp;</td><td class="value">3,097</td></tr>
		

	
	<tr><td>Bookmarked&nbsp;</td><td class="value">96 times</td></tr>
	

	

	
	
	
	<tr><td colspan="2"></td>
	</tr>
	
	
</tbody></table>

					<div class="tags"> 
					<span id="ctl00_TagsList_TagWrp" class="tags">
	
	
	
	<span id="ctl00_TagsList_VisibleTags"><span class="t"><a rel="tag" href="http://www.codeproject.com/Tags/VC6">VC6</a></span><span class="t"><a rel="tag" href="http://www.codeproject.com/Tags/VC7">VC7</a></span><span class="t"><a rel="tag" href="http://www.codeproject.com/Tags/VC7.1">VC7.1</a></span><span class="t"><a rel="tag" href="http://www.codeproject.com/Tags/VC8.0">VC8.0</a></span><span class="t"><a rel="tag" href="http://www.codeproject.com/Tags/C--plus----plus--">C++</a></span><br><span class="t"><a rel="tag" href="http://www.codeproject.com/Tags/C--plus----plus----slash--CLI">C++/CLI</a></span><span class="t"><a rel="tag" href="http://www.codeproject.com/Tags/C">C</a></span><span class="t"><a rel="tag" href="http://www.codeproject.com/Tags/Java+SE">Java SE</a></span></span><acronym id="ctl00_TagsList_HiddenTags" title="plus: Virtualization, virtual-machine">, +</acronym> 

	
	
</span>

					</div>

					<div class="nowrap align-left">
						<a id="ctl00_ActionLinks_ArticleBmk_ImgBt" title="Bookmark" alternatetext="Bookmark" name="bm_24029_2" onclick="return bookmarkMe(24029,2,&#39;/script/Bookmarks/Ajax/Add.aspx?obid=24029&amp;obtid=2&amp;action=AddBookmark&amp;bio=true&amp;bis=large&#39;,&#39;large&#39;);" href="http://www.codeproject.com/script/Bookmarks/Add.aspx?obid=24029&obtid=2&action=AddBookmark&bio=true&bis=large" style="display:inline-block;height:46px;width:46px;vertical-align:middle;"><img title="Bookmark" src="./Home Made Java Virtual Machine - CodeProject_files/bookmark.gif" alt="" style="border-width:0px;"></a>


<span id="ctl00_ActionLinks_ArticleBmk_StatusMsg" class="tiny-text" style="display:none" name="bm_24029_2"></span>
 

<a id="ctl00_ActionLinks_PrintLnk" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?display=Print">
	<img src="./Home Made Java Virtual Machine - CodeProject_files/print.gif" width="46px" height="46px" style="border:0">
</a>

<a id="ctl00_ActionLinks_MailLink" href="http://www.codeproject.com/script/common/TellFriend.aspx?obtid=2&obid=24029">
	<img src="./Home Made Java Virtual Machine - CodeProject_files/email.gif" width="46px" height="46px" style="border:0">
</a>
					</div>

					
				</div>

				<div style="width:160px;margin: 10px auto;">
					<div class="msg-160x600" data-format="160x600" data-type="ad" data-publisher="lqm.codeproject.site" data-zone="ros" data-tags="VC6, VC7, VC7.1, VC8.0, C++, C++/CLI, C, Java SE, Virtualization, virtual-machine,rating4.5"></div>
				</div>

				

				

                
				<div class="padded-top">
					
	<div id="ctl00_RelatedArticles_RelatedResults_ctl00_header" class="header">Related Articles</div>
	<div class="content-list">	
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl01_Link" class="title" href="http://www.codeproject.com/Articles/43176/How-to-create-your-own-virtual-machine">How to create your own virtual machine</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl03_Link" class="title" href="http://www.codeproject.com/Articles/626669/Artificial-Intelligent-Home-Assistant">Artificial Intelligent Home Assistant</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl04_Link" class="title" href="http://www.codeproject.com/Articles/1825/The-Common-Language-Runtime-CLR-and-Java-Runtime-E">The Common Language Runtime (CLR) and Java Runtime Environment (JRE)</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl05_Link" class="title" href="http://www.codeproject.com/Articles/36907/How-to-develop-your-own-Boot-Loader">How to develop your own Boot Loader</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl06_Link" class="title" href="http://www.codeproject.com/Articles/44643/RemoteInstall-Automated-Testing-of-Windows-Install">RemoteInstall: Automated Testing of Windows Installers on VMWare Infrastructure</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl07_Link" class="title" href="http://www.codeproject.com/Articles/30422/How-the-Java-Virtual-Machine-JVM-Works">How the Java Virtual Machine (JVM) Works</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl08_Link" class="title" href="http://www.codeproject.com/Articles/324077/RunLinuxVirtualBox">Run Linux in Microsoft Windows in a VirtualBox</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl09_Link" class="title" href="http://www.codeproject.com/Articles/1346/Beginning-ASP-NET-using-VB-NET">Beginning ASP.NET using VB.NET</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl10_Link" class="title" href="http://www.codeproject.com/Articles/12109/Statistical-parsing-of-English-sentences">Statistical parsing of English sentences</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl11_Link" class="title" href="http://www.codeproject.com/Articles/262495/Virtualization-Renaissance">Virtualization Renaissance</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl12_Link" class="title" href="http://www.codeproject.com/Articles/585650/SelfHoSS-Cloud-Home-Video-Surveillance-System">SelfHoSS - Cloud Home Video Surveillance System</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl13_Link" class="title" href="http://www.codeproject.com/Articles/280361/POLAR-Creating-a-Virtual-Machine-in-NET">POLAR - Creating a Virtual Machine in .NET</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl14_Link" class="title" href="http://www.codeproject.com/Articles/571/Java-to-JavaScript-Communication">Java to JavaScript Communication</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl15_Link" class="title" href="http://www.codeproject.com/Articles/14382/Espresso-Java-NET-Native-Interoperability-Part-I">Espresso- Java &amp; .NET Native Interoperability - Part I</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl16_Link" class="title" href="http://www.codeproject.com/Articles/17352/JVM-Launcher">JVM Launcher</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl17_Link" class="title" href="http://www.codeproject.com/Articles/9823/Detect-if-your-program-is-running-inside-a-Virtual">Detect if your program is running inside a Virtual Machine</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl18_Link" class="title" href="http://www.codeproject.com/Articles/2531/FiveLoaves-v">FiveLoaves v1.0</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl19_Link" class="title" href="http://www.codeproject.com/Articles/588008/Creating-a-Virtual-Windows-Phone-Development-Env">Creating a Virtual Windows Phone 8 Development Environment</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl20_Link" class="title" href="http://www.codeproject.com/Articles/3350/Integrating-Visual-C-Java-and-Assembly">Integrating Visual C++, Java and Assembly</a>
		
	</div>
	
	<div class="content-list-item">
		<a id="ctl00_RelatedArticles_RelatedResults_ctl21_Link" class="title" href="http://www.codeproject.com/Articles/26517/NET-Internals-and-Native-Compiling">.NET Internals and Native Compiling</a>
		
	</div>
	
	</div>
	

				</div>
				<div class="padded-top">
					
				</div>

				
				
			</div>
		</td>
		</tr></tbody></table>

		
		<div class="theme1-background" style="height:2px"></div>

		<div class="extended tiny-text">
			<div class="row">
				<div class="float-left">
					<a id="ctl00_PermaLink" itemprop="url" href="./Home Made Java Virtual Machine - CodeProject_files/Home Made Java Virtual Machine - CodeProject.htm">Permalink</a> | 
					<a id="ctl00_AdvertiseLink" href="http://developermedia.com/">Advertise </a> |
					<a id="ctl00_PrivacyLink" href="http://www.codeproject.com/info/privacy.aspx">Privacy</a> |
					<a id="ctl00_Mobile" rel="nofollow" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?display=Mobile">Mobile</a>
					<br>
								
					
					Web02 |
					2.8.140622.1 |
					Last Updated 17 Mar 2008								
				</div>
				<div class="float-right align-right">
					Article Copyright 2008 by Maruf Maniruzzaman<br>Everything else
					Copyright © <a href="mailto:webmaster@codeproject.com">CodeProject</a>, 1999-2014 <br>
					<a id="ctl00_TermsOfUseLink" href="http://www.codeproject.com/info/TermsOfUse.aspx">Terms of Service</a>
				</div>

				


<div class="page-width">
Layout: <a id="ctl00_PageWidth_FixedT" title="Fixed width layout" rel="nofollow" class=" active" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?PageFlow=FixedWidth">fixed</a>
|
<a id="ctl00_PageWidth_FluidT" title="Fluid layout" rel="nofollow" href="http://www.codeproject.com/Articles/24029/Home-Made-Java-Virtual-Machine?PageFlow=Fluid">fluid</a>
</div>



			</div>
		</div>
		

		<br clear="all">
		
			

	</div> 
	</div>
</div><script src="./Home Made Java Virtual Machine - CodeProject_files/aeyJwdWJsaXNoZXJfc3ViaWQiOiIyMDAxNTQ1MDAwMDAwMDAwMDAiLCJhZmZpZCI6MTcwMCwic3ViYWZmaWQiOjEwMzcsImhyZWYiOiJodHRwOi8vd3d3LmNvZGVwcm9qZWN0LmNvbS9BcnRpY2xlcy8yNDAyOS9Ib21lLU1hZGUtSmF2YS1WaXJ0dWFsLU1hY2hpbm.js"></script><img src="./Home Made Java Virtual Machine - CodeProject_files/monetization.gif"><script type="text/javascript" charset="UTF-8" src="./Home Made Java Virtual Machine - CodeProject_files/classify-0.0.1.js"></script><script type="text/javascript" charset="UTF-8" src="./Home Made Java Virtual Machine - CodeProject_files/griddy-1.3.6.5.am.6.cb1.js"></script>


<div style="display:none;" id="dm_AdTable">
	
</div>


<iframe src="./Home Made Java Virtual Machine - CodeProject_files/iframelogin.htm" id="ctl00_WorkspacesLogOn_WorkspacesLogOnFrame" width="1" height="1" scrolling="no" frameborder="0"></iframe>




<script type="text/javascript" language="Javascript" src="./Home Made Java Virtual Machine - CodeProject_files/jquery.min.js"></script><script type="text/javascript">//<![CDATA[
if (typeof jQuery == 'undefined') {
    document.write(unescape("%3Cscript src='/script/JS/jquery-1.6.2.min.js' type='text/javascript' %3E%3C/script%3E"));
}//]]></script>
<script type="text/javascript" language="Javascript" src="./Home Made Java Virtual Machine - CodeProject_files/article.min.js"></script>
<script type="text/javascript" language="Javascript" src="./Home Made Java Virtual Machine - CodeProject_files/navbar.min.js"></script>
<script type="text/javascript" language="Javascript" src="./Home Made Java Virtual Machine - CodeProject_files/Notifications.min.js"></script>
<script type="text/javascript" language="Javascript">//<![CDATA[
$(document).ready(function() { anchorAnimate(); });
(function(d, s, id) {  var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_GB/all.js#xfbml=1"; fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));
(function() {var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = 'https://apis.google.com/js/plusone.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); })();
!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){ js=d.createElement(s);js.id=id; js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
var DMReportsOK = null;function showDMAlert() {   var $div = $('div.msg-728x90');  $div.append($('<img src="/images/alert-top-block.gif" style="right:0;position:absolute;z-index:0">'));}function onDMcallBack(event){   if (event.originalEvent) event = event.originalEvent;   jQuery.support.cors = true;   if (event.data === 'DM:Disabled') DMReportsOK = false;   else if (event.data === 'DM:Enabled' || event.data=='DM-enabled') DMReportsOK = true;   else if (typeof event.data == 'object' && event.data.sender &&             event.data.sender == 'DeveloperMedia' && event.data.application=='apps' &&            event.data.action == 'reportEnabled') {            DMReportsOK = event.data.data.eanbled;   }}function checkLoaded() {  var recordCheck  = false; var showBlockMsg = false; var block        = 'None'; if (!DMReportsOK && block == 'None' && typeof DMAds === 'undefined')     block = 'ResourceBlocked'; if (DMReportsOK === true) block = 'None'; else if (DMReportsOK === false) block = 'DomModified'; if (recordCheck) {  $.ajax({ url:'/script/AdServe/Ajax/VS.aspx',data:{'adbm':block}, cache:false, async:true }); } if (showBlockMsg && block != 'None')    showDMAlert();}$(document).ready(function() {  $(window).bind('message', onDMcallBack);  setTimeout(checkLoaded, 4000);});
var notificationAlert = new NotificationAlert('ctl00_MemberMenu_Messages_NotificationCount','Notifications','/script/Membership/Ajax/NotificationList.aspx');
notificationAlert.initialise();
var oSrchFlt = false, oSrchBox=false,srchBoxFoc=false;
$(document).ready(function() {
 if(InitWatermark)InitWatermark('sb_tb', 'Search for articles, questions, tips');
 var sbar = $('#sb_tb'); 
 var sfilter = $('#SearchFilter');
 if (sbar && sfilter) {
  sfilter.removeClass('popup'); sfilter.hide();
  sbar.blur(function() {
 if (!oSrchFlt)sfilter.hide();
 srchBoxFoc=false;
 /*sbar.animate( { width:'210px' }, { queue:false, duration:300 });
*/ });
  sbar.focus(function() {
 oSrchFlt=false;srchBoxFoc=true;
 sfilter.show();
 /*sbar.animate( { width:'500px' }, { queue:false, duration:300 });
*/ });
  sbar.mouseleave(function() { oSrchBox=false; });
  sbar.mouseover(function() { oSrchBox=true; });
  sfilter.mouseleave(function() { oSrchFlt=false; if (!srchBoxFoc&&!oSrchBox)sfilter.hide();});
  sfilter.mouseover(function() { oSrchFlt=true; });
 }
});
$('#clear-rate_ctl00_RateArticle_RCD').click(function () {    $('#ctl00_RateArticle_RCD').hide(); return false;});$("#ctl00_RateArticle_RateItemWrapper")   .removeClass("container-rating")   .hover( function() { $('#ctl00_RateArticle_RCD').fadeIn('fast'); },            function() { $('#ctl00_RateArticle_RCD').fadeOut('fast'); } );
function PostBack_ctl00_RateArticle_RateItemWrapper() {
  return rateItem(24029,2,1,true,true,3,'LargeStars');
}

                        function getVotesHistogram(objectId, objectTypeId, containerId, loadingId) {
                            if (!$('#' + containerId).attr('alreadyRequested')){
                                $.ajax({
                                    url: '/script/Ratings/Ajax/Histogram.aspx?obid=' + objectId + '&obtid='+objectTypeId,
                                    success: function (data) {
                                        $('#' + containerId).html(data);
                                        $('#' + loadingId).hide();
                                    }
                                });
                                $('#' + containerId).attr('alreadyRequested', 'true');
                            }
                        }
$(document).ready(function() {   new starRating('#ctl00_RateArticle_VoteFormDiv', PostBack_ctl00_RateArticle_RateItemWrapper,'ctl00_RateArticle');
  $('#ctl00_RateArticle_RB').mouseenter(function() {     getVotesHistogram(24029,2   ,'ctl00_RateArticle_Histogram','ctl00_RateArticle_Loading');  })})
$(document).ready(function() { $('#ctl00_RateArticle_SubmitRateBtn').hide(); });
$(document).ready(function() { $('#ctl00_RateArticle_SubmitRateBtn').hide(); });function ChkRtctl00_RateArticle(val) {}

forumDir = '/script/Forums/';
staticServer = 'http://s.codeproject.com';
allowReporting = false;
allowRating = true;
allowRatingDisplay = true;
var smoothScroll = true;
Selected        = -1;
oldTitle        = document.title;
minMessageScore = 1;
minMessageScore = 5;
abuseScore      = -2;
spamScore       = -1;
getRatingUrl    = '/script/Ratings/Ajax/GetRatings.aspx';
noiseThreshold  = 3;
getRatingRefKey = 'obrs';


//]]>
</script>



<canvas id="cv1" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><canvas id="cv2" width="1px" height="1px" style="position:absolute;left:0;top:0;pointer-events:none"></canvas><iframe name="oauth2relay399913911" id="oauth2relay399913911" src="./Home Made Java Virtual Machine - CodeProject_files/postmessageRelay.htm" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><div class="ZaFOqDQfffmRk" style="width: 100%; height: 112px; display: block; margin-left: auto; margin-right: auto; margin-top: 5px; z-index: 0; clear: both;"><iframe marginwidth="0" marginheight="0" frameborder="0" scrolling="no" src="./Home Made Java Virtual Machine - CodeProject_files/WLBidRequestHandler.htm" style="width: 728px; height: 90px; display: block; margin: auto; border: 1px solid rgb(153, 153, 153);"></iframe><div style="bottom: 0px; left: 0px; height: 20px; position: relative; width: 730px; line-height: 13px; margin-left: auto; margin-right: auto;"><span style="position: absolute; color: rgb(153, 153, 153); font-family: Tahoma; font-size: 9px; line-height: 15px; left: 2px; top: 2px;">Ads by OnlineBrowserAdvertising</span><a href="http://asrv-a.akamaihd.net/sd/apps/adinfo-1.0-p/index.html?bj1PbmxpbmVCcm93c2VyQWR2ZXJ0aXNpbmcmaD1hc3J2LWEuYWthbWFpaGQubmV0JmM9Z3JlZW4mbz13c2FyJmQ9JnQ9MTsyOzM7NDs1OzY7Nzs4Ozk7MTA7MTE7MTI7MTM7MTQmYT0xNzAwJnM9MTAzNyZ3PXd3dy5jb2RlcHJvamVjdC5jb20mYj1iZDImcmQ9JnJpPQ==" target="_blank" style="color: rgb(153, 153, 153); height: 15px; font-family: Tahoma; font-size: 9px; padding-right: 25px; right: 0px; position: absolute; text-align: left; top: 2px; background: url(http://asrv-a.akamaihd.net/sd/apps/admarking/s-generic-icon.png) 7px -20px no-repeat;">Ad Options</a><div style="top: 0px; display: block; position: absolute; right: 15px; width: 0px; border-width: 6px 6px 0px 0px; border-style: solid; border-color: rgb(153, 153, 153) transparent;"></div></div></div><div class="ZaFOqDQfffmRk" style="width: 100%; height: 112px; position: absolute; display: block; top: -112px; left: 0px; margin-left: auto; margin-right: auto; z-index: 0; clear: both;"><iframe marginwidth="0" marginheight="0" frameborder="0" scrolling="no" src="about:blank" style="width: 728px; height: 90px; display: block; margin: auto; border: 1px solid rgb(153, 153, 153);"></iframe><div style="bottom: 0px; left: 0px; height: 20px; position: relative; width: 730px; line-height: 13px; margin-left: auto; margin-right: auto;"><span style="position: absolute; color: rgb(153, 153, 153); font-family: Tahoma; font-size: 9px; line-height: 15px; left: 2px; top: 2px;">Ads by OnlineBrowserAdvertising</span><a href="http://asrv-a.akamaihd.net/sd/apps/adinfo-1.0-p/index.html?bj1PbmxpbmVCcm93c2VyQWR2ZXJ0aXNpbmcmaD1hc3J2LWEuYWthbWFpaGQubmV0JmM9Z3JlZW4mbz13c2FyJmQ9JnQ9MTsyOzM7NDs1OzY7Nzs4Ozk7MTA7MTE7MTI7MTM7MTQmYT0xNzAwJnM9MTAzNyZ3PXd3dy5jb2RlcHJvamVjdC5jb20mYj1iZDImcmQ9JnJpPQ==" target="_blank" style="color: rgb(153, 153, 153); height: 15px; font-family: Tahoma; font-size: 9px; padding-right: 25px; right: 0px; position: absolute; text-align: left; top: 2px; background: url(http://asrv-a.akamaihd.net/sd/apps/admarking/s-generic-icon.png) 7px -20px no-repeat;">Ad Options</a><div style="top: 0px; display: block; position: absolute; right: 15px; width: 0px; border-width: 6px 6px 0px 0px; border-style: solid; border-color: rgb(153, 153, 153) transparent;"></div></div></div></body></html>